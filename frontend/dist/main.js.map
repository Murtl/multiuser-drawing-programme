{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACyC;AACE;AACM;AACA;AACE;AACwC;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,mGAA+B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,mDAAS;AACtD;AACA;AACA,wBAAwB,mDAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,2DAAW;AAC/D;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,yDAAY;AAChE,wBAAwB,yDAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iDAAQ;AACrD;AACA;AACA,wBAAwB,iDAAQ;AAChC;AACA;AACA;AACA,6CAA6C,mDAAS;AACtD;AACA;AACA,wBAAwB,mDAAS;AACjC;AACA;AACA;AACA;AACA;AACA,6CAA6C,iDAAQ;AACrD;AACA;AACA,wBAAwB,iDAAQ;AAChC;AACA;AACA,oDAAoD,yDAAY;AAChE,wBAAwB,yDAAY;AACpC;AACA;AACA;AACA;AACA;AACA,6CAA6C,mDAAS;AACtD;AACA;AACA,wBAAwB,mDAAS;AACjC;AACA;AACA;AACA,6CAA6C,iDAAQ;AACrD;AACA;AACA,wBAAwB,iDAAQ;AAChC;AACA;AACA;AACA,oDAAoD,yDAAY;AAChE,wBAAwB,yDAAY;AACpC;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACiB;;;;;;;;;;;;;;;ACjNlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,kBAAkB;AAC7E;AACA;AACA,mCAAmC,kCAAkC;AACrE,gCAAgC,kBAAkB;AAClD;AACA;AACA,oCAAoC,0CAA0C;AAC9E;AACA;AACA,0EAA0E,4BAA4B;AACtG;AACA;AACA,CAAC;AACkC;;;;;;;;;;;;;;;;ACpDnC,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iFAAkB;AACxE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iFAAkB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kHAAkH,oCAAoC;AACtJ;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AAC0C;;;;;;;;;;;;;;;;;AC5J3C,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACwC;AACsD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,mGAA+B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,oDAAoD,kCAAkC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iDAAS;AACjC;AACA;AACA;AACA;AACA,gDAAgD,mCAAmC;AACnF;AACA;AACA,gDAAgD,yCAAyC;AACzF;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,uDAAuD,sDAAsD;AAC7G;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iDAAS;AACjC;AACA;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,uDAAuD,sDAAsD;AAC7G,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,+CAA+C;AAC/F;AACA;AACA,gDAAgD,yCAAyC;AACzF;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,uDAAuD,oDAAoD;AAC3G;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,uDAAuD,0BAA0B;AACjF;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,uDAAuD,oBAAoB;AAC3E;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACsB;;;;;;;;;;;;;;;;;;ACtbkD;AACH;AACQ;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mFAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gFAAe;AAC1C;AACA;AACA;AACA,gCAAgC,gFAAe;AAC/C;AACA;AACA;AACA,gCAAgC,gFAAe;AAC/C;AACA;AACA;AACA,gCAAgC,gFAAe;AAC/C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,6BAA6B;AACpE;AACA;AACA;AACA,uCAAuC,OAAO,kFAAa,6BAA6B;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,OAAO,kFAAa,4BAA4B;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,4BAA4B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,4BAA4B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACiB;;;;;;;;;;;;;;;;;;ACjJlB,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACsH;AACxC;AACpB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mFAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,4EAAW;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,+BAA+B;AAC7E;AACA,gDAAgD,iFAAgB;AAChE,6CAA6C,8EAAa;AAC1D,2CAA2C,4EAAW;AACtD,8CAA8C,+EAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,qBAAqB;AACpG;AACA;AACA;AACA,kDAAkD,qBAAqB;AACvE;AACA,2CAA2C,iFAAgB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,8EAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,+EAAc,qBAAqB,aAAa,aAAa,mEAAkB,mBAAmB;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA,qCAAqC,iFAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,4BAA4B;AAC1E;AACA;AACA,oDAAoD,gBAAgB,wBAAwB;AAC5F,gDAAgD,iFAAgB;AAChE,6CAA6C,8EAAa;AAC1D,2CAA2C,4EAAW;AACtD,8CAA8C,+EAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,4BAA4B;AAC1E;AACA;AACA,oDAAoD,gBAAgB,oBAAoB;AACxF,gDAAgD,iFAAgB;AAChE,6CAA6C,8EAAa;AAC1D,2CAA2C,4EAAW;AACtD,8CAA8C,+EAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,4BAA4B;AAC1E;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB,+BAA+B;AACvG;AACA;AACA,wDAAwD,gBAAgB,gDAAgD;AACxH;AACA;AACA,wDAAwD,gBAAgB,gBAAgB;AACxF;AACA,gDAAgD,iFAAgB;AAChE,6CAA6C,8EAAa;AAC1D,2CAA2C,4EAAW;AACtD,8CAA8C,+EAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AAC8B;;;;;;;;;;;;;;;;;AC/T/B,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AAC+E;AACF;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4KAA4K,sFAAsB;AAClM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yFAAsB;AACtD;AACA;AACA;AACA,gCAAgC,yFAAsB;AACtD;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,IAAI;AACrB;AACA;AACA;AACA;AACA,CAAC;AAC6B;;;;;;;;;;;;;;;ACtI9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,wBAAwB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,sCAAsC;AAC3F;AACA;AACA;AACA,CAAC;AACmB;;;;;;;;;;;;;;;;AC/BgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,gDAAM;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACoB;;;;;;;;;;;;;;;ACtBrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA,kDAAkD,yBAAyB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACoB;;;;;;;;;;;;;;;ACpLrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC6B;;;;;;;;;;;;;;;;;;ACvB9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACe;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACiB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACoB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACmB;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JpB,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AAC0D;AACS;AAC3B;AAC8C;AAC9C;AACsC;AACpB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kEAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,kFAAa,iCAAiC,kEAAO;AAClI;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,kEAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,kEAAO;AAC/E,yEAAyE,kFAAa;AACtF;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,+CAAI,CAAC,iDAAS,iDAAiD,mEAAkB;AACpG;AACA;AACA,CAAC;AACsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iDAAM,CAAC,iDAAS,4FAA4F,mEAAkB;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACwB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oDAAS,CAAC,iDAAS,iDAAiD,mEAAkB;AACzG;AACA;AACA,CAAC;AAC2B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,kFAAa,KAAK,mDAAQ,CAAC,iDAAS,wCAAwC,kEAAO,kCAAkC,mEAAkB;AAChN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kEAAO;AAC/C;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,kEAAO;AAChD,8CAA8C,kEAAO;AACrD,4CAA4C,mDAAQ,CAAC,iDAAS,+EAA+E,mEAAkB;AAC/J,yEAAyE,kFAAa;AACtF;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,kEAAO;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,mDAAQ,CAAC,iDAAS,+EAA+E,mEAAkB;AAC/J,yEAAyE,kFAAa;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,kEAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,+CAAI,CAAC,iDAAS,8DAA8D,mEAAkB;AACzI,yEAAyE,kFAAa;AACtF;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AAC0B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mFAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qCAAqC,kEAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,kFAAa,gCAAgC,kFAAa;AACpI;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8EAAa;AAClC,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,+CAAI;AACrD,+CAA+C,+CAAI,eAAe,kEAAO,kDAAkD,kEAAO;AAClI;AACA,iDAAiD,iDAAM;AACvD,+CAA+C,iDAAM,eAAe,kEAAO;AAC3E;AACA,iDAAiD,oDAAS;AAC1D,+CAA+C,oDAAS,eAAe,kEAAO,kDAAkD,kEAAO;AACvI;AACA,iDAAiD,mDAAQ;AACzD,+CAA+C,mDAAQ,eAAe,kEAAO,8CAA8C,kEAAO,8CAA8C,kEAAO;AACvL;AACA;AACA,8EAA8E,kFAAa,SAAS,kFAAa;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kEAAO;AAChE;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iDAAS;AACzC;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,IAAI;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,IAAI;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,IAAI;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,IAAI;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,IAAI;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,8EAAa;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,kFAAa;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kFAAa;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+CAAI;AACjC;AACA;AACA,6BAA6B,iDAAM;AACnC;AACA;AACA,6BAA6B,oDAAS;AACtC;AACA;AACA,6BAA6B,mDAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC0B;;;;;;;;;;;;;;;AClvB3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACmB;;;;;;;;;;;;;;;AC/BpB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;;;;ACtF4E;AAC5E;AACA;AACA;AACA;AACO;AACP;AACA;AACA,uBAAuB,uDAAI;AAC3B;AACA,uBAAuB,4DAAS;AAChC;AACA,uBAAuB,yDAAM;AAC7B;AACA,uBAAuB,2DAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACjCA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sCAAsC;AAClF;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,yDAAyD;AACrG;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sCAAsC;AAClF;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;;;;;;AC1KA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACwB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACyB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC2B;;;;;;;;;;;;;;;AC3C5B;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACkB;;;;;;;;;;;;;;;;;;;;;;;;;;ACVnB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AAC2E;AACuD;AAC7E;AACJ;AACI;AACgC;AACmD;AACzC;AACtB;AACE;AACQ;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mFAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,s7BAAs7B,4FAAsB;AAC58B,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA,wCAAwC,iFAAkB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gGAAsB;AAC9D;AACA;AACA;AACA,wCAAwC,gGAAsB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gGAAsB;AAC9D;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,6DAAQ;AAC/C,iCAAiC,mFAAmB;AACpD;AACA,gCAAgC,sEAAW;AAC3C,gCAAgC,wEAAa;AAC7C,gCAAgC,2EAAgB;AAChD,gCAAgC,0EAAe;AAC/C,gCAAgC,0EAAe;AAC/C;AACA,uCAAuC,6DAAQ;AAC/C,qCAAqC,yDAAM;AAC3C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,6BAA6B,IAAI;AACjC;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,6BAA6B,IAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,2GAA4B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gGAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,4FAAsB;AAC5E;AACA;AACA,SAAS;AACT;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gGAAsB;AAClD;AACA;AACA,6CAA6C,gGAAoB;AACjE;AACA;AACA,wBAAwB,gGAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gGAAsB;AAC9C;AACA;AACA;AACA,aAAa;AACb,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA,yBAAyB;AACzB,6CAA6C,kGAAsB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4FAAsB;AACxE;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA,yEAAyE,qGAAyB;AAClG;AACA;AACA,gDAAgD,gGAAsB;AACtE;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,iCAAiC,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACsB;;;;;;;;;;;;;;;;;AC1hBvB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AAC2F;AACR;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+FAAsB;AACtD;AACA;AACA;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,mGAA+B;AAC7E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA,CAAC;AACmB;;;;;;;;;;;;;;;;AClQpB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA,CAAC;AACoB;;;;;;;;;;;;;;;AC5GrB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA,CAAC;AACuB;;;;;;;;;;;;;;;;ACjFxB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+FAAsB;AACtD;AACA;AACA;AACA;AACA;AACA,4BAA4B,+FAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA,CAAC;AACuB;;;;;;;;;;;;;;;AC7GxB;AACA,iEAAe;AACf;AACA,CAAC;;;;;;;;;;;;;;ACHD,iEAAe,cAAc,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG,8EAA8E;;;;;;;;;;;;;;ACAzK;AACA;AACA;;AAEA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChBqC;;AAErC;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,wDAAQ;AACf;AACA;AACA;AACA;AACA,iEAAe,SAAS;;;;;;;;;;;;;;;;;AC9BS;AACN;AACsB;AACjD;AACA,MAAM,kDAAM;AACZ,WAAW,kDAAM;AACjB;AACA;AACA,+CAA+C,+CAAG;;AAElD;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,SAAS,8DAAe;AACxB;AACA,iEAAe,EAAE;;;;;;;;;;;;;;;ACxBc;AAC/B;AACA,qCAAqC,iDAAK;AAC1C;AACA,iEAAe,QAAQ;;;;;;UCJvB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;ACNA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACyC;AACiB;AAC1D;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mEAAW;AAC7C;AACA;AACA;AACA,6BAA6B,kDAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC,IAAI","sources":["webpack://your-project-name/./frontend/src/router/router.ts","webpack://your-project-name/./frontend/src/store/DrawingAreaIShapesStore.ts","webpack://your-project-name/./frontend/src/store/DrawingAreaPreviewElementsStore.ts","webpack://your-project-name/./frontend/src/utils/classes/AuthHandler.ts","webpack://your-project-name/./frontend/src/utils/classes/Canvas.ts","webpack://your-project-name/./frontend/src/utils/classes/CustomIShapeManager.ts","webpack://your-project-name/./frontend/src/utils/classes/DrawingAreaPreview.ts","webpack://your-project-name/./frontend/src/utils/classes/EventFan.ts","webpack://your-project-name/./frontend/src/utils/classes/IdFactory.ts","webpack://your-project-name/./frontend/src/utils/classes/PopupMenu.ts","webpack://your-project-name/./frontend/src/utils/classes/SelectColorFactory.ts","webpack://your-project-name/./frontend/src/utils/classes/ShapeClasses.ts","webpack://your-project-name/./frontend/src/utils/classes/ShapeFactories.ts","webpack://your-project-name/./frontend/src/utils/classes/ToolArea.ts","webpack://your-project-name/./frontend/src/utils/functions/getInformationForDrawingArea.ts","webpack://your-project-name/./frontend/src/utils/functions/shapeConversionFunctions.ts","webpack://your-project-name/./frontend/src/utils/functions/showCustomMessageModal.ts","webpack://your-project-name/./frontend/src/utils/functions/updateUsersForDrawingArea.ts","webpack://your-project-name/./frontend/src/utils/interfaces-types/customShapeEvents.ts","webpack://your-project-name/./frontend/src/utils/interfaces-types/typesPermissions.ts","webpack://your-project-name/./frontend/src/utils/interfaces-types/typesShapes.ts","webpack://your-project-name/./frontend/src/views/drawingArea.ts","webpack://your-project-name/./frontend/src/views/home.ts","webpack://your-project-name/./frontend/src/views/login.ts","webpack://your-project-name/./frontend/src/views/notFound.ts","webpack://your-project-name/./frontend/src/views/register.ts","webpack://your-project-name/./node_modules/uuid/dist/esm-browser/native.js","webpack://your-project-name/./node_modules/uuid/dist/esm-browser/regex.js","webpack://your-project-name/./node_modules/uuid/dist/esm-browser/rng.js","webpack://your-project-name/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://your-project-name/./node_modules/uuid/dist/esm-browser/v4.js","webpack://your-project-name/./node_modules/uuid/dist/esm-browser/validate.js","webpack://your-project-name/webpack/bootstrap","webpack://your-project-name/webpack/runtime/define property getters","webpack://your-project-name/webpack/runtime/hasOwnProperty shorthand","webpack://your-project-name/webpack/runtime/make namespace object","webpack://your-project-name/./frontend/src/main.ts"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { HomePage } from '../views/home';\r\nimport { LoginPage } from '../views/login';\r\nimport { RegisterPage } from '../views/register';\r\nimport { NotFoundPage } from '../views/notFound';\r\nimport { DrawingArea } from '../views/drawingArea';\r\nimport { DrawingAreaPreviewElementsStore } from '../store/DrawingAreaPreviewElementsStore';\r\n/**\r\n * Router Klasse, die die Navigation zwischen den verschiedenen Seiten der Anwendung steuert.\r\n */\r\nvar Router = /** @class */ (function () {\r\n    function Router(appElement, authHandler) {\r\n        var _this = this;\r\n        this.drawingAreaPreviewElementsStore = DrawingAreaPreviewElementsStore.getInstance();\r\n        /**\r\n         * Flag, das angibt, ob die Navigation durch den Router oder durch den Benutzer erfolgt.\r\n         */\r\n        this.isProgrammaticNavigation = false;\r\n        this.appElement = appElement;\r\n        this.authHandler = authHandler;\r\n        window.addEventListener('hashchange', function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        e.stopImmediatePropagation();\r\n                        if (!!this.isProgrammaticNavigation) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.renderPage()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    }\r\n    Router.prototype.registerWebsocket = function (ws) {\r\n        this.ws = ws;\r\n    };\r\n    Router.prototype.closeWebsocket = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n    };\r\n    Router.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.renderPage()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Router.prototype.navigateTo = function (hash) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.isProgrammaticNavigation = true;\r\n                        window.location.hash = hash;\r\n                        return [4 /*yield*/, this.renderPage()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.isProgrammaticNavigation = false;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Router.prototype.renderPage = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var hash, _a, id_1, drawingArea_1, _b, _c, _d, _e, _f, _g, _h;\r\n            var _this = this;\r\n            return __generator(this, function (_j) {\r\n                switch (_j.label) {\r\n                    case 0:\r\n                        this.closeWebsocket();\r\n                        hash = window.location.hash || '#/login';\r\n                        if (!hash.startsWith('#/drawing-area/')) return [3 /*break*/, 7];\r\n                        if (!!this.authHandler.isLoggedIn()) return [3 /*break*/, 2];\r\n                        _a = this.appElement;\r\n                        return [4 /*yield*/, LoginPage.render()];\r\n                    case 1:\r\n                        _a.innerHTML = _j.sent();\r\n                        LoginPage.initialize(this, this.authHandler);\r\n                        return [3 /*break*/, 6];\r\n                    case 2:\r\n                        id_1 = hash.split('/')[2];\r\n                        this.drawingAreaPreviewElementsStore\r\n                            .getDrawingAreaPreviewElements()\r\n                            .forEach(function (element) {\r\n                            if (element.getDrawingAreaId() === id_1) {\r\n                                drawingArea_1 = new DrawingArea(id_1, element.getPermission(), _this.authHandler);\r\n                            }\r\n                        });\r\n                        if (!drawingArea_1) return [3 /*break*/, 5];\r\n                        _b = this.appElement;\r\n                        return [4 /*yield*/, drawingArea_1.render()];\r\n                    case 3:\r\n                        _b.innerHTML = _j.sent();\r\n                        return [4 /*yield*/, drawingArea_1.initialize(this)];\r\n                    case 4:\r\n                        _j.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        this.appElement.innerHTML = NotFoundPage.render();\r\n                        NotFoundPage.initialize(this, this.authHandler);\r\n                        _j.label = 6;\r\n                    case 6: return [3 /*break*/, 23];\r\n                    case 7:\r\n                        _c = hash;\r\n                        switch (_c) {\r\n                            case '#/login': return [3 /*break*/, 8];\r\n                            case '#/register': return [3 /*break*/, 13];\r\n                            case '#/': return [3 /*break*/, 17];\r\n                        }\r\n                        return [3 /*break*/, 22];\r\n                    case 8:\r\n                        if (!this.authHandler.isLoggedIn()) return [3 /*break*/, 10];\r\n                        _d = this.appElement;\r\n                        return [4 /*yield*/, HomePage.render()];\r\n                    case 9:\r\n                        _d.innerHTML = _j.sent();\r\n                        HomePage.initialize(this, this.authHandler);\r\n                        return [3 /*break*/, 12];\r\n                    case 10:\r\n                        _e = this.appElement;\r\n                        return [4 /*yield*/, LoginPage.render()];\r\n                    case 11:\r\n                        _e.innerHTML = _j.sent();\r\n                        LoginPage.initialize(this, this.authHandler);\r\n                        _j.label = 12;\r\n                    case 12: return [3 /*break*/, 23];\r\n                    case 13:\r\n                        if (!this.authHandler.isLoggedIn()) return [3 /*break*/, 15];\r\n                        _f = this.appElement;\r\n                        return [4 /*yield*/, HomePage.render()];\r\n                    case 14:\r\n                        _f.innerHTML = _j.sent();\r\n                        HomePage.initialize(this, this.authHandler);\r\n                        return [3 /*break*/, 16];\r\n                    case 15:\r\n                        this.appElement.innerHTML = RegisterPage.render();\r\n                        RegisterPage.initialize(this, this.authHandler);\r\n                        _j.label = 16;\r\n                    case 16: return [3 /*break*/, 23];\r\n                    case 17:\r\n                        if (!!this.authHandler.isLoggedIn()) return [3 /*break*/, 19];\r\n                        _g = this.appElement;\r\n                        return [4 /*yield*/, LoginPage.render()];\r\n                    case 18:\r\n                        _g.innerHTML = _j.sent();\r\n                        LoginPage.initialize(this, this.authHandler);\r\n                        return [3 /*break*/, 21];\r\n                    case 19:\r\n                        _h = this.appElement;\r\n                        return [4 /*yield*/, HomePage.render()];\r\n                    case 20:\r\n                        _h.innerHTML = _j.sent();\r\n                        HomePage.initialize(this, this.authHandler);\r\n                        _j.label = 21;\r\n                    case 21: return [3 /*break*/, 23];\r\n                    case 22:\r\n                        this.appElement.innerHTML = NotFoundPage.render();\r\n                        NotFoundPage.initialize(this, this.authHandler);\r\n                        return [3 /*break*/, 23];\r\n                    case 23: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Router;\r\n}());\r\nexport { Router };\r\n","/**\r\n * Eigener Store für die Speicherung der IShapes.\r\n * Hiermit wird eine zentrale Stelle für die Verwaltung der IShapes geschaffen.\r\n */\r\nvar DrawingAreaIShapesStore = /** @class */ (function () {\r\n    function DrawingAreaIShapesStore() {\r\n        this.iShapes = [];\r\n        this.selectedIShapes = [];\r\n    }\r\n    /**\r\n     * Anwendung des Singleton-Patterns, um nur eine Instanz des Stores zu erzeugen.\r\n     */\r\n    DrawingAreaIShapesStore.getInstance = function () {\r\n        if (!DrawingAreaIShapesStore.instance) {\r\n            DrawingAreaIShapesStore.instance = new DrawingAreaIShapesStore();\r\n        }\r\n        return DrawingAreaIShapesStore.instance;\r\n    };\r\n    DrawingAreaIShapesStore.prototype.setIShapes = function (iShapes) {\r\n        this.iShapes = iShapes;\r\n    };\r\n    DrawingAreaIShapesStore.prototype.getIShapes = function () {\r\n        return this.iShapes;\r\n    };\r\n    DrawingAreaIShapesStore.prototype.addIShape = function (iShape) {\r\n        this.iShapes.push(iShape);\r\n    };\r\n    DrawingAreaIShapesStore.prototype.addIShapeAtIndex = function (iShape, index) {\r\n        this.iShapes.splice(index, 0, iShape);\r\n    };\r\n    DrawingAreaIShapesStore.prototype.removeIShape = function (id) {\r\n        this.iShapes = this.iShapes.filter(function (s) { return s.id !== id; });\r\n    };\r\n    DrawingAreaIShapesStore.prototype.setSelectedIShapes = function (iShapes) {\r\n        this.selectedIShapes = iShapes;\r\n    };\r\n    DrawingAreaIShapesStore.prototype.getSelectedIShapes = function (userId) {\r\n        if (userId === 'all') {\r\n            return this.selectedIShapes.map(function (s) { return s.iShape; });\r\n        }\r\n        return this.selectedIShapes\r\n            .filter(function (s) { return s.eventUserId === userId; })\r\n            .map(function (s) { return s.iShape; });\r\n    };\r\n    DrawingAreaIShapesStore.prototype.addSelectedIShape = function (iShape, eventUserId) {\r\n        this.selectedIShapes.push({ iShape: iShape, eventUserId: eventUserId });\r\n    };\r\n    DrawingAreaIShapesStore.prototype.removeSelectedIShape = function (id) {\r\n        this.selectedIShapes = this.selectedIShapes.filter(function (s) { return s.iShape.id !== id; });\r\n    };\r\n    return DrawingAreaIShapesStore;\r\n}());\r\nexport { DrawingAreaIShapesStore };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { DrawingAreaPreview } from '../utils/classes/DrawingAreaPreview';\r\n/**\r\n * Eigener Store für die Vorschau-Elemente der Zeichenflächen, die auf der Übersichtsseite gerendert werden.\r\n */\r\nvar DrawingAreaPreviewElementsStore = /** @class */ (function () {\r\n    function DrawingAreaPreviewElementsStore() {\r\n        this.drawingAreaPreviewElements = [];\r\n        this.identifier = 0;\r\n    }\r\n    /**\r\n     * Anwendung des Singleton-Patterns, um nur eine Instanz des Stores zu erzeugen.\r\n     */\r\n    DrawingAreaPreviewElementsStore.getInstance = function () {\r\n        if (!DrawingAreaPreviewElementsStore.instance) {\r\n            DrawingAreaPreviewElementsStore.instance =\r\n                new DrawingAreaPreviewElementsStore();\r\n        }\r\n        return DrawingAreaPreviewElementsStore.instance;\r\n    };\r\n    /**\r\n     * Erstellung der Vorschau-Elemente für die Zeichenflächen auf Basis der Informationen, die aus dem Cookie stammen.\r\n     * @param drawingAreas - Informationen über die Zeichenflächen, die in Vorschauelemente umgewandelt werden sollen\r\n     */\r\n    DrawingAreaPreviewElementsStore.prototype.createDrawingAreaPreviewElements = function (drawingAreas) {\r\n        var _this = this;\r\n        this.drawingAreaPreviewElements = [];\r\n        this.identifier = 0;\r\n        drawingAreas.forEach(function (drawingArea) {\r\n            _this.drawingAreaPreviewElements.push(new DrawingAreaPreview(_this.identifier++, drawingArea.permission, drawingArea.id));\r\n        });\r\n    };\r\n    /**\r\n     * Setzen der Vorschau-Elemente für die Zeichenflächen.\r\n     * @param drawingAreaPreviewElements - Vorschau-Elemente der Zeichenflächen\r\n     */\r\n    DrawingAreaPreviewElementsStore.prototype.setDrawingAreaPreviewElements = function (drawingAreaPreviewElements) {\r\n        this.drawingAreaPreviewElements = drawingAreaPreviewElements;\r\n    };\r\n    /**\r\n     * Rückgabe der Vorschau-Elemente für die Zeichenflächen.\r\n     */\r\n    DrawingAreaPreviewElementsStore.prototype.getDrawingAreaPreviewElements = function () {\r\n        return this.drawingAreaPreviewElements;\r\n    };\r\n    /**\r\n     * Methode zum Hinzufügen eines neuen Vorschau-Elements einer Zeichenfläche auf dem Server.\r\n     */\r\n    DrawingAreaPreviewElementsStore.prototype.addDrawingAreaPreviewElements = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, drawingAreaPreview, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/drawingArea/createNewDrawingArea', {\r\n                                method: 'POST',\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        throw new Error(\"Zeichenfl\\u00E4che konnte nicht erstellt werden: \".concat(errorData.message));\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        drawingAreaPreview = new DrawingAreaPreview(this.identifier++, 'O', data.drawingAreaId);\r\n                        this.drawingAreaPreviewElements.push(drawingAreaPreview);\r\n                        return [2 /*return*/, drawingAreaPreview];\r\n                    case 5:\r\n                        e_1 = _a.sent();\r\n                        throw new Error(\"\".concat(e_1));\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Entfernen eines Vorschau-Elements einer Zeichenfläche auf dem Server.\r\n     * @param drawingAreaPreview - Vorschau-Element der Zeichenfläche, die entfernt werden soll\r\n     */\r\n    DrawingAreaPreviewElementsStore.prototype.removeDrawingAreaPreviewElement = function (drawingAreaPreview) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        return [4 /*yield*/, fetch('/api/drawingArea/deleteDrawingArea', {\r\n                                method: 'DELETE',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                credentials: 'include',\r\n                                body: JSON.stringify({\r\n                                    drawingAreaId: drawingAreaPreview.getDrawingAreaId(),\r\n                                }),\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        throw new Error(\"Zeichenfl\\u00E4che konnte nicht gel\\u00F6scht werden: \".concat(errorData.message));\r\n                    case 3:\r\n                        this.drawingAreaPreviewElements = this.drawingAreaPreviewElements.filter(function (dap) { return dap !== drawingAreaPreview; });\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        e_2 = _a.sent();\r\n                        throw new Error(\"\".concat(e_2));\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return DrawingAreaPreviewElementsStore;\r\n}());\r\nexport { DrawingAreaPreviewElementsStore };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { IDFactory } from './IdFactory';\r\nimport { DrawingAreaPreviewElementsStore } from '../../store/DrawingAreaPreviewElementsStore';\r\n/**\r\n * Klasse, die die Authentifizierung des Benutzers steuert und alle damit verbundenen Elemente.\r\n */\r\nvar AuthHandler = /** @class */ (function () {\r\n    function AuthHandler() {\r\n        this.email = '';\r\n        this.username = '';\r\n        this.userId = '';\r\n        this.drawingAreaPreviewElementsStore = DrawingAreaPreviewElementsStore.getInstance();\r\n    }\r\n    /**\r\n     * Methode zum Initialisieren des AuthHandlers.\r\n     * Überprüft, ob ein Benutzer eingeloggt ist und holt die Benutzerinformationen.\r\n     */\r\n    AuthHandler.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.checkAuth()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Überprüfen, ob ein Cookie vorhanden ist und der Benutzer automatisch eingeloggt werden kann.\r\n     */\r\n    AuthHandler.prototype.checkAuth = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, data, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, fetch('/api/auth/checkAuth', {\r\n                                method: 'GET',\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!response.ok) {\r\n                            return [2 /*return*/, { success: false, message: 'Error' }];\r\n                        }\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        data = _a.sent();\r\n                        this.email = data.user.email;\r\n                        this.username = data.user.username;\r\n                        this.userId = data.user.id;\r\n                        this.drawingAreaPreviewElementsStore.createDrawingAreaPreviewElements(data.user.drawingAreas);\r\n                        IDFactory.setPrefix(this.userId);\r\n                        /**\r\n                         * Ausgabe der dekodierten Informationen des Users zur Erfüllung der Aufgabe 4.3.\r\n                         */\r\n                        console.log(data.user);\r\n                        return [2 /*return*/, { success: true, message: 'Success' }];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        return [2 /*return*/, { success: false, message: \"\".concat(e_1) }];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Einloggen eines Benutzers.\r\n     * @param username - Benutzername\r\n     * @param email - E-Mail-Adresse\r\n     * @param password - Passwort\r\n     */\r\n    AuthHandler.prototype.login = function (username, email, password) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/auth/login', {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({ username: username, email: email, password: password }),\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Login fehlgeschlagen wegen: \".concat(errorData.message),\r\n                            }];\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        this.email = data.user.email;\r\n                        this.username = data.user.username;\r\n                        this.userId = data.user.id;\r\n                        this.drawingAreaPreviewElementsStore.createDrawingAreaPreviewElements(data.user.drawingAreas);\r\n                        IDFactory.setPrefix(this.userId);\r\n                        /**\r\n                         * Ausgabe der dekodierten Informationen des Users zur Erfüllung der Aufgabe 4.3.\r\n                         */\r\n                        console.log(data.user);\r\n                        return [2 /*return*/, { success: true, message: data.message }];\r\n                    case 5:\r\n                        error_1 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Login fehlgeschlagen wegen: \".concat(error_1),\r\n                            }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Registrieren eines Benutzers.\r\n     * @param username - Benutzername\r\n     * @param email - E-Mail-Adresse\r\n     * @param password - Passwort\r\n     */\r\n    AuthHandler.prototype.register = function (username, email, password) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/auth/register', {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({ username: username, email: email, password: password }),\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Registrierung fehlgeschlagen wegen: \".concat(errorData.message),\r\n                            }];\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { success: true, message: data.message }];\r\n                    case 5:\r\n                        error_2 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Registrierung fehlgeschlagen wegen: \".concat(error_2),\r\n                            }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Ausloggen eines Benutzers.\r\n     */\r\n    AuthHandler.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, fetch('/api/auth/logout', {\r\n                                method: 'POST',\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.username = '';\r\n                        this.userId = '';\r\n                        this.email = '';\r\n                        this.drawingAreaPreviewElementsStore.setDrawingAreaPreviewElements([]);\r\n                        return [2 /*return*/, { success: true, message: 'Logout erfolgreich.' }];\r\n                    case 2:\r\n                        e_2 = _a.sent();\r\n                        return [2 /*return*/, { success: false, message: \"\".concat(e_2) }];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode, die überprüft, ob ein Benutzer eingeloggt ist.\r\n     */\r\n    AuthHandler.prototype.isLoggedIn = function () {\r\n        return this.email !== '' && this.userId !== '' && this.username !== '';\r\n    };\r\n    /**\r\n     * Methode zum Abrufen der E-Mail-Adresse des Benutzers.\r\n     */\r\n    AuthHandler.prototype.getEMail = function () {\r\n        return this.email;\r\n    };\r\n    /**\r\n     * Methode zum Abrufen der Benutzer-ID.\r\n     */\r\n    AuthHandler.prototype.getUserId = function () {\r\n        return this.userId;\r\n    };\r\n    /**\r\n     * Methode zum Abrufen des Benutzernamens.\r\n     */\r\n    AuthHandler.prototype.getUsername = function () {\r\n        return this.username;\r\n    };\r\n    /**\r\n     * Methode zum Aktualisieren des Passworts eines Benutzers.\r\n     * @param oldPassword - Altes Passwort\r\n     * @param newPassword - Neues Passwort\r\n     */\r\n    AuthHandler.prototype.updatePassword = function (oldPassword, newPassword) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, error_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/auth/updatePassword', {\r\n                                method: 'PUT',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({ oldPassword: oldPassword, newPassword: newPassword }),\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Passwortaktualisierung fehlgeschlagen wegen: \".concat(errorData.message),\r\n                            }];\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { success: true, message: data.message }];\r\n                    case 5:\r\n                        error_3 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Passwortaktualisierung fehlgeschlagen wegen: \".concat(error_3),\r\n                            }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Aktualisieren des Benutzernamens.\r\n     * @param newUsername - Neuer Benutzername\r\n     */\r\n    AuthHandler.prototype.updateUsername = function (newUsername) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, error_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/auth/updateUsername', {\r\n                                method: 'PUT',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({ newUsername: newUsername }),\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Benutzernamen-Aktualisierung fehlgeschlagen wegen: \".concat(errorData.message),\r\n                            }];\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        this.username = newUsername;\r\n                        return [2 /*return*/, { success: true, message: data.message }];\r\n                    case 5:\r\n                        error_4 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Benutzernamen-Aktualisierung fehlgeschlagen wegen: \".concat(error_4),\r\n                            }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Aktualisieren der E-Mail-Adresse.\r\n     * @param newEmail - Neue E-Mail-Adresse\r\n     */\r\n    AuthHandler.prototype.updateEmail = function (newEmail) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, error_5;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/auth/updateEmail', {\r\n                                method: 'PUT',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({ newEmail: newEmail }),\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"E-Mail-Aktualisierung fehlgeschlagen wegen: \".concat(errorData.message),\r\n                            }];\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        this.email = newEmail;\r\n                        return [2 /*return*/, { success: true, message: data.message }];\r\n                    case 5:\r\n                        error_5 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"E-Mail-Aktualisierung fehlgeschlagen wegen: \".concat(error_5),\r\n                            }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Methode zum Aktualisieren der Vorschau-Elemente der Zeichenbereiche.\r\n     * Wird man z.B. zu einer Zeichenfläche hinzugefügt oder entfernt, kriegt das die Übersichtsseite nicht direkt mit.\r\n     * Mit dieser Methode kann man seine aktuellen Zeichenflächen aktualisieren.\r\n     * Hier wäre auch ein automatisierter Prozess denkbar, der die Zeichenflächen regelmäßig aktualisiert.\r\n     * Für diesen Fall habe ich einfach einen Button gebaut, der die Zeichenfläche jederzeit aktualisieren kann.\r\n     */\r\n    AuthHandler.prototype.refreshDrawingAreas = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, errorData, data, e_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        return [4 /*yield*/, fetch('/api/drawingArea/refreshDrawingAreas', {\r\n                                method: 'GET',\r\n                                credentials: 'include',\r\n                            })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        if (!!response.ok) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        errorData = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"Aktualisierung der Zeichenbereiche fehlgeschlagen wegen: \".concat(errorData.message),\r\n                            }];\r\n                    case 3: return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        this.drawingAreaPreviewElementsStore.createDrawingAreaPreviewElements(data.drawingAreas);\r\n                        return [2 /*return*/, { success: true, message: data.message }];\r\n                    case 5:\r\n                        e_3 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                message: \"\".concat(e_3),\r\n                            }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AuthHandler;\r\n}());\r\nexport { AuthHandler };\r\n","import { IShapeEventType, } from '../interfaces-types/customShapeEvents';\r\nimport { iShapeToShape } from '../functions/shapeConversionFunctions';\r\nimport { DrawingAreaIShapesStore } from '../../store/DrawingAreaIShapesStore';\r\n/**\r\n * Klasse für die Zeichenfläche, die die Shapes zeichnet und Events auf die Shapes anwendet.\r\n */\r\nvar Canvas = /** @class */ (function () {\r\n    function Canvas(canvasDomElement, toolarea, userId) {\r\n        this.userId = userId;\r\n        this.iShapesStore = DrawingAreaIShapesStore.getInstance();\r\n        var _a = canvasDomElement.getBoundingClientRect(), width = _a.width, height = _a.height;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.ctx = canvasDomElement.getContext('2d');\r\n        canvasDomElement.addEventListener('mousemove', createMouseHandler('handleMouseMove'));\r\n        canvasDomElement.addEventListener('mousedown', createMouseHandler('handleMouseDown'));\r\n        canvasDomElement.addEventListener('mouseup', createMouseHandler('handleMouseUp'));\r\n        canvasDomElement.addEventListener('contextmenu', createMouseHandler('handleContextMenu'));\r\n        canvasDomElement.addEventListener('click', createMouseHandler('handleMouseClick'));\r\n        function createMouseHandler(methodName) {\r\n            return function (e) {\r\n                if ('object' === typeof e) {\r\n                    var x = e.pageX - canvasDomElement.offsetLeft, y = e.pageY - canvasDomElement.offsetTop, ss = toolarea.getSelectedShape();\r\n                    // Wenn die linke Maustaste gedrückt wird und ein Tool ausgewählt ist, wird eine Aktion ausgeführt\r\n                    if ((e.button === 0 && ss) || (e.button === 2 && ss)) {\r\n                        e.preventDefault();\r\n                        // @ts-ignore\r\n                        var m = ss[methodName];\r\n                        if (m !== undefined) {\r\n                            // wenn die rechte Maustaste gedrückt wird, wird das Kontextmenü geöffnet mit der exakten Mausposition\r\n                            if (e.button === 2 && methodName === 'handleContextMenu') {\r\n                                m.call(ss, e.x, e.y);\r\n                            }\r\n                            else {\r\n                                if (e.button === 2) {\r\n                                    return;\r\n                                }\r\n                                m.call(ss, x, y);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * Wendet die Events auf die Zeichenfläche an.\r\n     * @param events - Die Events, die angewendet werden sollen\r\n     */\r\n    Canvas.prototype.applyEvents = function (events) {\r\n        var _this = this;\r\n        events.forEach(function (e) {\r\n            if (e.type === IShapeEventType.IShapeAdded) {\r\n                var eAdd = e;\r\n                _this.addIShape(eAdd.iShape);\r\n            }\r\n            else if (e.type === IShapeEventType.IShapeRemoved) {\r\n                var eRemoved = e;\r\n                _this.removeIShapeWithId(eRemoved.id);\r\n            }\r\n            else if (e.type === IShapeEventType.IShapeSelected) {\r\n                var eSelect = e;\r\n                _this.selectIShape(eSelect.iShape, eSelect.userId);\r\n            }\r\n            else if (e.type === IShapeEventType.IShapeUnselected) {\r\n                var eUnselectShape = e;\r\n                _this.unselectIShape(eUnselectShape.id);\r\n            }\r\n        });\r\n        /**\r\n         * Nachdem die Events angewendet wurden, wird das Canvas neu gezeichnet.\r\n         */\r\n        return this.draw();\r\n    };\r\n    Canvas.prototype.draw = function () {\r\n        var _this = this;\r\n        this.ctx.beginPath();\r\n        this.ctx.fillStyle = 'lightgrey';\r\n        this.ctx.fillRect(0, 0, this.width, this.height);\r\n        this.ctx.stroke();\r\n        this.ctx.fillStyle = 'black';\r\n        var iShapes = this.iShapesStore.getIShapes();\r\n        /**\r\n         * Sortiert die Shapes nach ihrem Z-Index, um die Reihenfolge zu bestimmen, in der sie gezeichnet werden.\r\n         */\r\n        iShapes.sort(function (a, b) { return a.zIndex - b.zIndex; });\r\n        /**\r\n         * Zeichnet alle Shapes\r\n         */\r\n        iShapes.forEach(function (s) { return iShapeToShape(s).draw(_this.ctx, false); });\r\n        /**\r\n         * Zeichnet alle selektierten Shapes.\r\n         * Besonders ist hier, dass die Selektion über die Shapes gezeichnet wird.\r\n         * Somit ist diese immer sichtbar und wird zu keinem Zeitpunkt verdeckt.\r\n         */\r\n        var selectedShapes = this.iShapesStore.getSelectedIShapes('all');\r\n        selectedShapes.forEach(function (s) { return iShapeToShape(s).draw(_this.ctx, true); });\r\n        return this;\r\n    };\r\n    /**\r\n     * Fügt eine IShape dem Store hinzu.\r\n     * @param iShape - Die Shape, die hinzugefügt werden soll\r\n     */\r\n    Canvas.prototype.addIShape = function (iShape) {\r\n        var index = this.iShapesStore\r\n            .getIShapes()\r\n            .findIndex(function (s) { return s.id === iShape.id; });\r\n        if (index === -1) {\r\n            this.iShapesStore.addIShape(iShape);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Entfernt eine IShape mit einer bestimmten ID aus dem Store.\r\n     * @param id - Die ID der Shape, die entfernt werden soll\r\n     * */\r\n    Canvas.prototype.removeIShapeWithId = function (id) {\r\n        this.iShapesStore.removeIShape(id);\r\n        this.iShapesStore.removeSelectedIShape(id);\r\n        return this;\r\n    };\r\n    /**\r\n     * Fügt eine selektierte IShape dem Store hinzu.\r\n     * @param iShape - Die Shape, die selektiert werden soll\r\n     * @param eventUserId - Die ID des Users, der die Shape selektiert hat\r\n     */\r\n    Canvas.prototype.selectIShape = function (iShape, eventUserId) {\r\n        var index = this.iShapesStore\r\n            .getSelectedIShapes('all')\r\n            .findIndex(function (s) { return s.id === iShape.id; });\r\n        if (index === -1) {\r\n            this.iShapesStore.addSelectedIShape(iShape, eventUserId);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Entfernt eine selektierte IShape aus dem Store.\r\n     * @param id - Die ID der Shape, die deselektiert werden soll\r\n     */\r\n    Canvas.prototype.unselectIShape = function (id) {\r\n        this.iShapesStore.removeSelectedIShape(id);\r\n        return this;\r\n    };\r\n    return Canvas;\r\n}());\r\nexport { Canvas };\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { IShapeAdded, IShapeRemoved, IShapeSelected, IShapeUnselected, } from '../interfaces-types/customShapeEvents';\r\nimport { DrawingAreaIShapesStore } from '../../store/DrawingAreaIShapesStore';\r\nimport { SelectColorFactory } from './SelectColorFactory';\r\n/**\r\n * Ein CustomShapeManager, der die IShapes verwaltet.\r\n */\r\nvar CustomIShapeManager = /** @class */ (function () {\r\n    /**\r\n     * Konstruktor\r\n     * @param eventFan - Der EventFan\r\n     * @param ws - Der WebSocket für die Kommunikation mit dem Backend\r\n     * @param userId - Die ID des Benutzers\r\n     */\r\n    function CustomIShapeManager(eventFan, ws, userId) {\r\n        this.eventFan = eventFan;\r\n        this.ws = ws;\r\n        this.userId = userId;\r\n        this.iShapeStore = DrawingAreaIShapesStore.getInstance();\r\n    }\r\n    /**\r\n     * Sendet ein neues ShapeEvent an den WebSocket.\r\n     * @param shapeEvent - Das ShapeEvent, das gesendet werden soll.\r\n     * Die Antwort des Servers wird in der 'drawingArea.ts' verarbeitet und an den EventFan weitergeleitet.\r\n     */\r\n    CustomIShapeManager.prototype.postNewShapeEvent = function (shapeEvent) {\r\n        this.ws.send(JSON.stringify(shapeEvent));\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeAdded-Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param iShape - Die IShape, die hinzugefügt werden soll.\r\n     * @param postToServer - Soll das IShapeEvent direkt an den WebSocket gesendet werden?\r\n     */\r\n    CustomIShapeManager.prototype.addIShape = function (iShape, postToServer) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var iShapes, shapeEvent;\r\n            return __generator(this, function (_a) {\r\n                iShapes = this.iShapeStore.getIShapes();\r\n                /**\r\n                 * Wenn es keine Shapes gibt, dann ist der zIndex 0\r\n                 * Ansonsten ist der zIndex die letzte Shape + 1\r\n                 */\r\n                if (iShapes.length === 0) {\r\n                    iShape.zIndex = 0;\r\n                }\r\n                else if (iShape.zIndex === undefined) {\r\n                    iShape.zIndex = iShapes[iShapes.length - 1].zIndex + 1;\r\n                }\r\n                shapeEvent = new IShapeAdded(iShape);\r\n                if (postToServer) {\r\n                    this.postNewShapeEvent(shapeEvent);\r\n                }\r\n                else {\r\n                    this.eventFan.applyEvents([shapeEvent]);\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Bewegt eine IShape und wirft ein IShapeRemoved und ein IShapeAdded Event, welche direkt dem EventFan hinzugefügt oder an den WebSocket gesendet werden.\r\n     * @param oldIShape - Die alte IShape\r\n     * @param newIShape - Die neue IShape\r\n     * @param postToServer - Sollen die IShapeEvents direkt an den WebSocket gesendet werden?\r\n     */\r\n    CustomIShapeManager.prototype.moveIShape = function (oldIShape, newIShape, postToServer) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var indexSelected, iShapeUnselectedEvent, iShapeRemovedEvent, iShapeAddedEvent, iShapeSelectedEvent;\r\n            return __generator(this, function (_a) {\r\n                indexSelected = this.iShapeStore\r\n                    .getSelectedIShapes(this.userId)\r\n                    .findIndex(function (s) { return s.id === oldIShape.id; });\r\n                if (indexSelected !== -1) {\r\n                    iShapeUnselectedEvent = new IShapeUnselected(oldIShape.id, this.userId);\r\n                    iShapeRemovedEvent = new IShapeRemoved(oldIShape.id);\r\n                    iShapeAddedEvent = new IShapeAdded(newIShape);\r\n                    iShapeSelectedEvent = new IShapeSelected(newIShape, this.userId);\r\n                    if (postToServer) {\r\n                        this.postNewShapeEvent(iShapeUnselectedEvent);\r\n                        this.postNewShapeEvent(iShapeRemovedEvent);\r\n                        this.postNewShapeEvent(iShapeAddedEvent);\r\n                        this.postNewShapeEvent(iShapeSelectedEvent);\r\n                    }\r\n                    else {\r\n                        this.eventFan.applyEvents([\r\n                            iShapeUnselectedEvent,\r\n                            iShapeRemovedEvent,\r\n                            iShapeAddedEvent,\r\n                            iShapeSelectedEvent,\r\n                        ]);\r\n                    }\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeRemoved-Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param id - Die ID der IShape, die entfernt werden soll\r\n     * @param postToServer - Soll das IShapeEvent direkt an den WebSocket gesendet werden?\r\n     */\r\n    CustomIShapeManager.prototype.removeIShapeWithId = function (id, postToServer) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var index, indexSelected, shapeEvent_1, shapeEvent;\r\n            return __generator(this, function (_a) {\r\n                index = this.iShapeStore.getIShapes().findIndex(function (s) { return s.id === id; });\r\n                if (index !== -1) {\r\n                    indexSelected = this.iShapeStore\r\n                        .getSelectedIShapes(this.userId)\r\n                        .findIndex(function (s) { return s.id === id; });\r\n                    if (indexSelected !== -1) {\r\n                        shapeEvent_1 = new IShapeUnselected(id, this.userId);\r\n                        if (postToServer) {\r\n                            this.postNewShapeEvent(shapeEvent_1);\r\n                        }\r\n                        else {\r\n                            this.eventFan.applyEvents([shapeEvent_1]);\r\n                        }\r\n                    }\r\n                    shapeEvent = new IShapeRemoved(id);\r\n                    this.eventFan.applyEvents([shapeEvent]);\r\n                    if (postToServer) {\r\n                        this.postNewShapeEvent(shapeEvent);\r\n                    }\r\n                    else {\r\n                        this.eventFan.applyEvents([shapeEvent]);\r\n                    }\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeSelected-Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param iShape - Die IShape, die selektiert werden soll\r\n     * @param postToServer - Soll das IShapeEvent direkt an den WebSocket gesendet werden?\r\n     */\r\n    CustomIShapeManager.prototype.selectIShape = function (iShape, postToServer) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var shapeEvent;\r\n            return __generator(this, function (_a) {\r\n                shapeEvent = new IShapeSelected(__assign(__assign({}, iShape), { selectColor: SelectColorFactory.getSelectColor() }), this.userId);\r\n                if (postToServer) {\r\n                    this.postNewShapeEvent(shapeEvent);\r\n                }\r\n                else {\r\n                    this.eventFan.applyEvents([shapeEvent]);\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeUnselected-Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param id - Die ID der IShape, die deselektiert werden soll\r\n     * @param postToServer - Soll das IShapeEvent direkt an den WebSocket gesendet werden?\r\n     */\r\n    CustomIShapeManager.prototype.unselectIShape = function (id, postToServer) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var index, shapeEvent;\r\n            return __generator(this, function (_a) {\r\n                index = this.iShapeStore\r\n                    .getSelectedIShapes(this.userId)\r\n                    .findIndex(function (s) { return s.id === id; });\r\n                if (index !== -1) {\r\n                    shapeEvent = new IShapeUnselected(id, this.userId);\r\n                    if (postToServer) {\r\n                        this.postNewShapeEvent(shapeEvent);\r\n                    }\r\n                    else {\r\n                        this.eventFan.applyEvents([shapeEvent]);\r\n                    }\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeRemoved, IShapeAdded, IShapeUnselected und IShapeSelected Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param iShape - Die IShape, deren Hintergrundfarbe geändert werden soll\r\n     * @param color - Die neue Hintergrundfarbe\r\n     */\r\n    CustomIShapeManager.prototype.setBackgroundColor = function (iShape, color) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var indexSelected, oldIShape, newIShape, iShapeUnselectedEvent, iShapeRemovedEvent, iShapeAddedEvent, iShapeSelectedEvent;\r\n            return __generator(this, function (_a) {\r\n                indexSelected = this.iShapeStore\r\n                    .getSelectedIShapes(this.userId)\r\n                    .findIndex(function (s) { return s.id === iShape.id; });\r\n                if (indexSelected !== -1) {\r\n                    oldIShape = this.iShapeStore.getSelectedIShapes(this.userId)[indexSelected];\r\n                    newIShape = __assign(__assign({}, oldIShape), { backgroundColor: color });\r\n                    iShapeUnselectedEvent = new IShapeUnselected(oldIShape.id, this.userId);\r\n                    iShapeRemovedEvent = new IShapeRemoved(oldIShape.id);\r\n                    iShapeAddedEvent = new IShapeAdded(newIShape);\r\n                    iShapeSelectedEvent = new IShapeSelected(newIShape, this.userId);\r\n                    this.postNewShapeEvent(iShapeUnselectedEvent);\r\n                    this.postNewShapeEvent(iShapeRemovedEvent);\r\n                    this.postNewShapeEvent(iShapeAddedEvent);\r\n                    this.postNewShapeEvent(iShapeSelectedEvent);\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeRemoved, IShapeAdded, IShapeUnselected und IShapeSelected Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param iShape - Die IShape, deren Rahmenfarbe geändert werden soll\r\n     * @param color - Die neue Rahmenfarbe\r\n     */\r\n    CustomIShapeManager.prototype.setBorderColor = function (iShape, color) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var indexSelected, oldIShape, newIShape, iShapeUnselectedEvent, iShapeRemovedEvent, iShapeAddedEvent, iShapeSelectedEvent;\r\n            return __generator(this, function (_a) {\r\n                indexSelected = this.iShapeStore\r\n                    .getSelectedIShapes(this.userId)\r\n                    .findIndex(function (s) { return s.id === iShape.id; });\r\n                if (indexSelected !== -1) {\r\n                    oldIShape = this.iShapeStore.getSelectedIShapes(this.userId)[indexSelected];\r\n                    newIShape = __assign(__assign({}, oldIShape), { borderColor: color });\r\n                    iShapeUnselectedEvent = new IShapeUnselected(oldIShape.id, this.userId);\r\n                    iShapeRemovedEvent = new IShapeRemoved(oldIShape.id);\r\n                    iShapeAddedEvent = new IShapeAdded(newIShape);\r\n                    iShapeSelectedEvent = new IShapeSelected(newIShape, this.userId);\r\n                    this.postNewShapeEvent(iShapeUnselectedEvent);\r\n                    this.postNewShapeEvent(iShapeRemovedEvent);\r\n                    this.postNewShapeEvent(iShapeAddedEvent);\r\n                    this.postNewShapeEvent(iShapeSelectedEvent);\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt ein neues IShapeRemoved, IShapeAdded, IShapeUnselected und IShapeSelected Event und sendet es an den WebSocket oder fügt es direkt dem EventFan hinzu.\r\n     * @param iShape - Die IShape, deren zIndex geändert werden soll\r\n     * @param zIndex - Der neue zIndex\r\n     */\r\n    CustomIShapeManager.prototype.setZIndex = function (iShape, zIndex) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var iShapes, indexSelected, oldIShape, newIShape, iShapeUnselectedEvent, iShapeRemovedEvent, iShapeAddedEvent, iShapeSelectedEvent;\r\n            return __generator(this, function (_a) {\r\n                iShapes = this.iShapeStore.getIShapes();\r\n                indexSelected = this.iShapeStore\r\n                    .getSelectedIShapes(this.userId)\r\n                    .findIndex(function (s) { return s.id === iShape.id; });\r\n                if (indexSelected !== -1) {\r\n                    oldIShape = this.iShapeStore.getSelectedIShapes(this.userId)[indexSelected];\r\n                    newIShape = void 0;\r\n                    if (zIndex === 'start') {\r\n                        newIShape = __assign(__assign({}, oldIShape), { zIndex: iShapes[0].zIndex - 1 });\r\n                    }\r\n                    else if (zIndex === 'end') {\r\n                        newIShape = __assign(__assign({}, oldIShape), { zIndex: iShapes[iShapes.length - 1].zIndex + 1 });\r\n                    }\r\n                    else {\r\n                        newIShape = __assign(__assign({}, oldIShape), { zIndex: zIndex });\r\n                    }\r\n                    iShapeUnselectedEvent = new IShapeUnselected(oldIShape.id, this.userId);\r\n                    iShapeRemovedEvent = new IShapeRemoved(oldIShape.id);\r\n                    iShapeAddedEvent = new IShapeAdded(newIShape);\r\n                    iShapeSelectedEvent = new IShapeSelected(newIShape, this.userId);\r\n                    this.postNewShapeEvent(iShapeUnselectedEvent);\r\n                    this.postNewShapeEvent(iShapeRemovedEvent);\r\n                    this.postNewShapeEvent(iShapeAddedEvent);\r\n                    this.postNewShapeEvent(iShapeSelectedEvent);\r\n                }\r\n                return [2 /*return*/, this];\r\n            });\r\n        });\r\n    };\r\n    return CustomIShapeManager;\r\n}());\r\nexport { CustomIShapeManager };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { drawingAreaPermissions, } from '../interfaces-types/typesPermissions';\r\nimport { showCustomMessageModal } from '../functions/showCustomMessageModal';\r\n/**\r\n * Klasse für die Vorschau-Elemente der Zeichenflächen, die auf der Übersichtsseite gerendert werden.\r\n */\r\nvar DrawingAreaPreview = /** @class */ (function () {\r\n    function DrawingAreaPreview(identifier, permission, drawingAreaId) {\r\n        this.identifier = identifier;\r\n        this.permission = permission;\r\n        this.drawingAreaId = drawingAreaId;\r\n    }\r\n    /**\r\n     * Gibt die ID der Zeichenfläche zurück.\r\n     */\r\n    DrawingAreaPreview.prototype.getDrawingAreaId = function () {\r\n        return this.drawingAreaId;\r\n    };\r\n    /**\r\n     * Gibt die Rechte des Benutzers auf der Zeichenfläche zurück.\r\n     */\r\n    DrawingAreaPreview.prototype.getPermission = function () {\r\n        return this.permission;\r\n    };\r\n    /**\r\n     * Rendert das Vorschau-Element der Zeichenfläche.\r\n     */\r\n    DrawingAreaPreview.prototype.render = function () {\r\n        var subContainer = document.createElement('div');\r\n        subContainer.classList.add('sub-container-preview-drawing-area-element');\r\n        var createButton = document.createElement('button');\r\n        createButton.classList.add('custom-button');\r\n        createButton.id = \"open-draw-area-button-\".concat(this.identifier);\r\n        createButton.innerText = 'Öffnen';\r\n        subContainer.innerHTML = \"\\n            <span>Deine Rechte auf dieser Zeichenfl\\u00E4che (ID: \".concat(this.drawingAreaId, \"): </span>\\n            <span>\").concat(drawingAreaPermissions[this.permission], \"</span>\\n        \");\r\n        subContainer.appendChild(createButton);\r\n        if (this.permission === 'O') {\r\n            var deleteButton = document.createElement('button');\r\n            deleteButton.classList.add('custom-button');\r\n            deleteButton.innerText = 'Löschen';\r\n            deleteButton.id = \"delete-draw-area-button-\".concat(this.identifier);\r\n            subContainer.appendChild(deleteButton);\r\n        }\r\n        return \"\\n            <img src=\\\"../../assets/drawingAreaPreview.png\\\" alt=\\\"drawingAreaPreview\\\" class=\\\"drawing-area-preview-img\\\"/>\\n            \".concat(subContainer.outerHTML, \"\\n        \");\r\n    };\r\n    /**\r\n     * Initialisiert das Vorschau-Element der Zeichenfläche.\r\n     * @param router - Router-Instanz\r\n     * @param authHandler - AuthHandler-Instanz\r\n     * @param parentElement - Eltern-Element, in dem das Vorschau-Element gerendert wird\r\n     * @param drawingAreaPreviewElementsStore - DrawingAreaPreviewElementsStore-Instanz\r\n     */\r\n    DrawingAreaPreview.prototype.initialize = function (router, authHandler, parentElement, drawingAreaPreviewElementsStore) {\r\n        var _this = this;\r\n        var newDrawingAreaPreviewElement = document.createElement('section');\r\n        newDrawingAreaPreviewElement.classList.add('container-preview-drawing-area-element');\r\n        newDrawingAreaPreviewElement.innerHTML = this.render();\r\n        parentElement.appendChild(newDrawingAreaPreviewElement);\r\n        var openDrawAreaButton = document.getElementById(\"open-draw-area-button-\".concat(this.identifier));\r\n        if (openDrawAreaButton) {\r\n            openDrawAreaButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, router.navigateTo(\"#/drawing-area/\".concat(this.drawingAreaId))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        if (this.permission === 'O') {\r\n            var deleteDrawAreaButton = document.getElementById(\"delete-draw-area-button-\".concat(this.identifier));\r\n            if (deleteDrawAreaButton) {\r\n                deleteDrawAreaButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var e_1;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, 2, , 3]);\r\n                                return [4 /*yield*/, drawingAreaPreviewElementsStore.removeDrawingAreaPreviewElement(this)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                newDrawingAreaPreviewElement.remove();\r\n                                showCustomMessageModal('Erfolg', 'Zeichenfläche wurde erfolgreich gelöscht!');\r\n                                return [3 /*break*/, 3];\r\n                            case 2:\r\n                                e_1 = _a.sent();\r\n                                showCustomMessageModal('Fehler', \"\".concat(e_1));\r\n                                return [3 /*break*/, 3];\r\n                            case 3: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n            }\r\n        }\r\n    };\r\n    return DrawingAreaPreview;\r\n}());\r\nexport { DrawingAreaPreview };\r\n","/**\r\n * Ein EventFan, der Events an verschiedene ShapeViews (listener) weiterleitet\r\n */\r\nvar EventFan = /** @class */ (function () {\r\n    function EventFan() {\r\n        this.listeners = [];\r\n    }\r\n    /**\r\n     * Registriert einen neuen Listener\r\n     * @param newListener - Der neue Listener\r\n     */\r\n    EventFan.prototype.register = function (newListener) {\r\n        this.listeners.push(newListener);\r\n    };\r\n    /**\r\n     * Entfernt einen Listener\r\n     * @param listener - Der zu entfernende Listener\r\n     */\r\n    EventFan.prototype.unregister = function (listener) {\r\n        this.listeners = this.listeners.filter(function (l) { return l !== listener; });\r\n    };\r\n    /**\r\n     * Wendet die Events auf alle Listener an\r\n     * @param events - Die Events, die angewendet werden sollen\r\n     */\r\n    EventFan.prototype.applyEvents = function (events) {\r\n        this.listeners.forEach(function (listener) { return listener.applyEvents(events); });\r\n        return this;\r\n    };\r\n    return EventFan;\r\n}());\r\nexport { EventFan };\r\n","import { v4 as uuidv4 } from 'uuid';\r\n/**\r\n * Klasse zur Erzeugung von eindeutigen IDs\r\n */\r\nvar IDFactory = /** @class */ (function () {\r\n    function IDFactory() {\r\n    }\r\n    /**\r\n     * Erzeugt eine neue eindeutige ID\r\n     */\r\n    IDFactory.getNewId = function () {\r\n        return \"\".concat(IDFactory.prefix, \"#\").concat(uuidv4());\r\n    };\r\n    /**\r\n     * Setzt den Präfix für die IDs\r\n     * @param prefix - Präfix für die IDs\r\n     */\r\n    IDFactory.setPrefix = function (prefix) {\r\n        this.prefix = prefix;\r\n    };\r\n    return IDFactory;\r\n}());\r\nexport { IDFactory };\r\n","/**\r\n * Klasse für ein Popup-Menü\r\n */\r\nvar PopupMenu = /** @class */ (function () {\r\n    function PopupMenu() {\r\n        this.menuItems = [];\r\n        this.menuElement = document.createElement('ul');\r\n        /**\r\n         * Event-Listener, um clicks, die innerhalb des Menüs stattfinden, nicht weiter zu propagieren\r\n         */\r\n        this.menuElement.addEventListener('click', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n        this.menuElement.classList.add('popup-menu');\r\n        /**\r\n         * Event-Listener, um das Popup-Menü zu verstecken, wenn der Benutzer außerhalb des Menüs ein Kontextmenü öffnet\r\n         */\r\n        document.addEventListener('contextmenu', this.closePopupMenuHandler.bind(this), true);\r\n        /**\r\n         * Event-Listener, um das Popup-Menü zu verstecken, wenn der Benutzer außerhalb des Menüs klickt\r\n         */\r\n        document.addEventListener('click', this.closePopupMenuHandler.bind(this), true);\r\n    }\r\n    /**\r\n     * Zeigt das Popup-Menü an der angegebenen Position\r\n     * @param x - x-Koordinate\r\n     * @param y - y-Koordinate\r\n     */\r\n    PopupMenu.prototype.show = function (x, y) {\r\n        this.styleMenuElement(x, y);\r\n        for (var _i = 0, _a = this.menuItems; _i < _a.length; _i++) {\r\n            var menuItem = _a[_i];\r\n            this.menuElement.appendChild(menuItem.render());\r\n        }\r\n        document.body.appendChild(this.menuElement);\r\n    };\r\n    /**\r\n     * Erstellt ein Menüelement mit dem angegebenen Text und Klick-Handler\r\n     * @param itemText - text des Menüelements\r\n     * @param onClick - Klick-Handler\r\n     */\r\n    PopupMenu.prototype.createMenuItem = function (itemText, onClick) {\r\n        var _this = this;\r\n        var menuItem = document.createElement('li');\r\n        menuItem.textContent = itemText;\r\n        menuItem.addEventListener('click', function () {\r\n            onClick(_this);\r\n        });\r\n        return {\r\n            render: function () { return menuItem; },\r\n        };\r\n    };\r\n    /**\r\n     * Erstellt einen Trenner für das Popup-Menü in Form eines li-Elements\r\n     */\r\n    PopupMenu.prototype.createSeparator = function () {\r\n        var separator = document.createElement('hr');\r\n        return {\r\n            render: function () { return separator; },\r\n        };\r\n    };\r\n    /**\r\n     * Erstellt ein Menüelement mit Radio-Buttons\r\n     * @param itemText - text des Menüelements\r\n     * @param options - Optionen für die Radio-Buttons\r\n     * @param currentOption - aktuelle Option\r\n     * @param onChange - Änderungs-Handler\r\n     */\r\n    PopupMenu.prototype.createRadioOption = function (itemText, options, currentOption, onChange) {\r\n        var _this = this;\r\n        var menuItem = document.createElement('li');\r\n        var label = document.createElement('label');\r\n        label.textContent = itemText;\r\n        menuItem.appendChild(label);\r\n        var _loop_1 = function (option) {\r\n            var radio = document.createElement('input');\r\n            radio.type = 'radio';\r\n            radio.name = itemText;\r\n            radio.value = option;\r\n            radio.checked = option === currentOption;\r\n            radio.addEventListener('change', function () {\r\n                currentOption = option;\r\n                if (onChange) {\r\n                    onChange(option, _this);\r\n                }\r\n            });\r\n            var radioLabel = document.createElement('label');\r\n            radioLabel.textContent = options[option];\r\n            menuItem.appendChild(radio);\r\n            menuItem.appendChild(radioLabel);\r\n        };\r\n        for (var option in options) {\r\n            _loop_1(option);\r\n        }\r\n        return {\r\n            render: function () { return menuItem; },\r\n        };\r\n    };\r\n    /**\r\n     * Fügt ein Menüelement zum Popup-Menü hinzu\r\n     * @param menuItem - neues Menüelement, das hinzugefügt werden soll\r\n     */\r\n    PopupMenu.prototype.addMenuItem = function (menuItem) {\r\n        if (this.menuItems.indexOf(menuItem) === -1) {\r\n            this.menuItems.push(menuItem);\r\n        }\r\n    };\r\n    /**\r\n     * Fügt mehrere Menüelemente zum Popup-Menü hinzu\r\n     * @param menuItems - neue Menüelemente, die hinzugefügt werden sollen\r\n     */\r\n    PopupMenu.prototype.addMenuItems = function () {\r\n        var menuItems = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            menuItems[_i] = arguments[_i];\r\n        }\r\n        for (var _a = 0, menuItems_1 = menuItems; _a < menuItems_1.length; _a++) {\r\n            var menuItem = menuItems_1[_a];\r\n            this.addMenuItem(menuItem);\r\n        }\r\n    };\r\n    /**\r\n     * Fügt ein Menüelement an einer bestimmten Position im Popup-Menü hinzu\r\n     * @param menuItem - Menüelement, das hinzugefügt werden soll\r\n     * @param index - Position, an der das Menüelement hinzugefügt werden soll\r\n     * Achtung: Auch die \"Separator\" werden als Menüelemente gezählt\r\n     */\r\n    PopupMenu.prototype.addMenuItemAt = function (menuItem, index) {\r\n        if (this.menuItems.indexOf(menuItem) === -1) {\r\n            this.menuItems.splice(index, 0, menuItem);\r\n        }\r\n    };\r\n    /**\r\n     * Entfernt ein Menüelement aus dem Popup-Menü\r\n     * @param menuItem - Menüelement, das entfernt werden soll\r\n     */\r\n    PopupMenu.prototype.removeMenuItem = function (menuItem) {\r\n        var index = this.menuItems.indexOf(menuItem);\r\n        if (index !== -1) {\r\n            this.menuItems.splice(index, 1);\r\n        }\r\n    };\r\n    /**\r\n     * Versteckt das Popup-Menü\r\n     */\r\n    PopupMenu.prototype.hide = function () {\r\n        this.menuElement.replaceChildren();\r\n        document.body.removeChild(this.menuElement);\r\n    };\r\n    /**\r\n     * Stylt das Popup-Menü\r\n     * @param x - x-Koordinate\r\n     * @param y - y-Koordinate\r\n     */\r\n    PopupMenu.prototype.styleMenuElement = function (x, y) {\r\n        this.menuElement.style.position = 'fixed';\r\n        this.menuElement.style.left = x + 'px';\r\n        this.menuElement.style.top = y + 'px';\r\n        this.menuElement.style.backgroundColor = 'white';\r\n        this.menuElement.style.border = '1px solid black';\r\n        this.menuElement.style.padding = '2px';\r\n        this.menuElement.style.margin = '0';\r\n        this.menuElement.style.boxShadow = '2px 2px 5px black';\r\n        this.menuElement.style.listStyleType = 'none';\r\n    };\r\n    /**\r\n     * Event-Handler, um das Popup-Menü zu verstecken, wenn der Benutzer außerhalb des Menüs klickt/contextmenu\r\n     * @param e - Event\r\n     */\r\n    PopupMenu.prototype.closePopupMenuHandler = function (e) {\r\n        if (e.target !== this.menuElement &&\r\n            this.menuElement.parentNode !== null &&\r\n            !this.menuElement.contains(e.target)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.hide();\r\n        }\r\n    };\r\n    return PopupMenu;\r\n}());\r\nexport { PopupMenu };\r\n","var SelectColorFactory = /** @class */ (function () {\r\n    function SelectColorFactory() {\r\n    }\r\n    /**\r\n     * Gibt die aktuelle Farbe für das Auswählen von Shapes zurück\r\n     */\r\n    SelectColorFactory.getSelectColor = function () {\r\n        return this.selectColor;\r\n    };\r\n    /**\r\n     * Setzt die Farbe für das Auswählen von Shapes\r\n     * @param selectColor - Die Farbe, die für das Auswählen von Shapes verwendet werden soll\r\n     */\r\n    SelectColorFactory.setSelectColor = function (selectColor) {\r\n        this.selectColor = selectColor;\r\n    };\r\n    /**\r\n     * Die Farbe, die für das Auswählen von Shapes verwendet wird.\r\n     * Default ist schwarz\r\n     */\r\n    SelectColorFactory.selectColor = '#000000';\r\n    return SelectColorFactory;\r\n}());\r\nexport { SelectColorFactory };\r\n","/**\r\n * Klasse einer Shape in Form einer Linie, die gezeichnet werden kann.\r\n */\r\nvar Line = /** @class */ (function () {\r\n    function Line(id, from, to, backgroundColor, borderColor, selectColor, zIndex) {\r\n        this.id = id;\r\n        this.from = from;\r\n        this.to = to;\r\n        this.backgroundColor = backgroundColor;\r\n        this.borderColor = borderColor;\r\n        this.selectColor = selectColor;\r\n        this.zIndex = zIndex;\r\n        this.type = 'Line';\r\n    }\r\n    /**\r\n     * Zeichnet die Linie auf den Canvas.\r\n     * @param ctx - Der CanvasRenderingContext2D, auf dem gezeichnet wird.\r\n     * @param isSelected - Ob nur die Linie gezeichnet werden soll oder nur die Auswahlpunkte.\r\n     */\r\n    Line.prototype.draw = function (ctx, isSelected) {\r\n        if (isSelected) {\r\n            ctx.fillStyle = this.selectColor;\r\n            ctx.fillRect(this.from.x - 2, this.from.y - 2, 6, 6);\r\n            ctx.fillRect(this.to.x - 2, this.to.y - 2, 6, 6);\r\n        }\r\n        else {\r\n            ctx.strokeStyle = this.borderColor;\r\n            ctx.beginPath();\r\n            ctx.moveTo(this.from.x, this.from.y);\r\n            ctx.lineTo(this.to.x, this.to.y);\r\n            ctx.stroke();\r\n        }\r\n    };\r\n    return Line;\r\n}());\r\nexport { Line };\r\n/**\r\n * Klasse einer Shape in Form eines Kreises, der gezeichnet werden kann.\r\n */\r\nvar Circle = /** @class */ (function () {\r\n    function Circle(id, center, radius, backgroundColor, borderColor, selectColor, zIndex) {\r\n        this.id = id;\r\n        this.center = center;\r\n        this.radius = radius;\r\n        this.backgroundColor = backgroundColor;\r\n        this.borderColor = borderColor;\r\n        this.selectColor = selectColor;\r\n        this.zIndex = zIndex;\r\n        this.type = 'Circle';\r\n    }\r\n    /**\r\n     * Zeichnet den Kreis auf den Canvas.\r\n     * @param ctx - Der CanvasRenderingContext2D, auf dem gezeichnet wird.\r\n     * @param isSelected - Ob nur der Kreis gezeichnet werden soll oder nur die Auswahlpunkte.\r\n     */\r\n    Circle.prototype.draw = function (ctx, isSelected) {\r\n        if (isSelected) {\r\n            ctx.fillStyle = this.selectColor;\r\n            ctx.fillRect(this.center.x - 2, this.center.y - 2, 6, 6);\r\n            ctx.fillRect(this.center.x + this.radius - 2, this.center.y - 2, 6, 6);\r\n            ctx.fillRect(this.center.x - this.radius - 2, this.center.y - 2, 6, 6);\r\n            ctx.fillRect(this.center.x - 2, this.center.y + this.radius - 2, 6, 6);\r\n            ctx.fillRect(this.center.x - 2, this.center.y - this.radius - 2, 6, 6);\r\n        }\r\n        else {\r\n            ctx.strokeStyle = this.borderColor;\r\n            ctx.beginPath();\r\n            ctx.arc(this.center.x, this.center.y, this.radius, 0, 2 * Math.PI);\r\n            ctx.stroke();\r\n            ctx.fillStyle = this.backgroundColor;\r\n            ctx.fill();\r\n        }\r\n    };\r\n    return Circle;\r\n}());\r\nexport { Circle };\r\n/**\r\n * Klasse einer Shape in Form eines Rechtecks, das gezeichnet werden kann.\r\n */\r\nvar Rectangle = /** @class */ (function () {\r\n    function Rectangle(id, from, to, backgroundColor, borderColor, selectColor, zIndex) {\r\n        this.id = id;\r\n        this.from = from;\r\n        this.to = to;\r\n        this.backgroundColor = backgroundColor;\r\n        this.borderColor = borderColor;\r\n        this.selectColor = selectColor;\r\n        this.zIndex = zIndex;\r\n        this.type = 'Rectangle';\r\n    }\r\n    /**\r\n     * Zeichnet das Rechteck auf den Canvas.\r\n     * @param ctx - Der CanvasRenderingContext2D, auf dem gezeichnet wird.\r\n     * @param isSelected - Ob nur das Rechteck gezeichnet werden soll oder nur die Auswahlpunkte.\r\n     */\r\n    Rectangle.prototype.draw = function (ctx, isSelected) {\r\n        if (isSelected) {\r\n            ctx.fillStyle = this.selectColor;\r\n            ctx.fillRect(this.from.x - 2, this.from.y - 2, 6, 6);\r\n            ctx.fillRect(this.to.x - 2, this.to.y - 2, 6, 6);\r\n            ctx.fillRect(this.from.x - 2, this.to.y - 2, 6, 6);\r\n            ctx.fillRect(this.to.x - 2, this.from.y - 2, 6, 6);\r\n        }\r\n        else {\r\n            ctx.strokeStyle = this.borderColor;\r\n            ctx.beginPath();\r\n            ctx.strokeRect(this.from.x, this.from.y, this.to.x - this.from.x, this.to.y - this.from.y);\r\n            ctx.stroke();\r\n            ctx.fillStyle = this.backgroundColor;\r\n            ctx.fillRect(this.from.x, this.from.y, this.to.x - this.from.x, this.to.y - this.from.y);\r\n        }\r\n    };\r\n    return Rectangle;\r\n}());\r\nexport { Rectangle };\r\n/**\r\n * Klasse einer Shape in Form eines Dreiecks, das gezeichnet werden kann.\r\n */\r\nvar Triangle = /** @class */ (function () {\r\n    function Triangle(id, p1, p2, p3, backgroundColor, borderColor, selectColor, zIndex) {\r\n        this.id = id;\r\n        this.p1 = p1;\r\n        this.p2 = p2;\r\n        this.p3 = p3;\r\n        this.backgroundColor = backgroundColor;\r\n        this.borderColor = borderColor;\r\n        this.selectColor = selectColor;\r\n        this.zIndex = zIndex;\r\n        this.type = 'Triangle';\r\n    }\r\n    /**\r\n     * Zeichnet das Dreieck auf den Canvas.\r\n     * @param ctx - Der CanvasRenderingContext2D, auf dem gezeichnet wird.\r\n     * @param isSelected - Ob nur das Dreieck gezeichnet werden soll oder nur die Auswahlpunkte.\r\n     */\r\n    Triangle.prototype.draw = function (ctx, isSelected) {\r\n        if (isSelected) {\r\n            ctx.fillStyle = this.selectColor;\r\n            ctx.fillRect(this.p1.x - 2, this.p1.y - 2, 6, 6);\r\n            ctx.fillRect(this.p2.x - 2, this.p2.y - 2, 6, 6);\r\n            ctx.fillRect(this.p3.x - 2, this.p3.y - 2, 6, 6);\r\n        }\r\n        else {\r\n            ctx.strokeStyle = this.borderColor;\r\n            ctx.beginPath();\r\n            ctx.moveTo(this.p1.x, this.p1.y);\r\n            ctx.lineTo(this.p2.x, this.p2.y);\r\n            ctx.lineTo(this.p3.x, this.p3.y);\r\n            ctx.lineTo(this.p1.x, this.p1.y);\r\n            ctx.stroke();\r\n            ctx.fillStyle = this.backgroundColor;\r\n            ctx.fill();\r\n        }\r\n    };\r\n    return Triangle;\r\n}());\r\nexport { Triangle };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Point2D } from '../interfaces-types/typesShapes';\r\nimport { Circle, Line, Rectangle, Triangle } from './ShapeClasses';\r\nimport { IDFactory } from './IdFactory';\r\nimport { iShapeToShape, shapeToIShape, } from '../functions/shapeConversionFunctions';\r\nimport { PopupMenu } from './PopupMenu';\r\nimport { DrawingAreaIShapesStore } from '../../store/DrawingAreaIShapesStore';\r\nimport { SelectColorFactory } from './SelectColorFactory';\r\n/**\r\n * Eine abstrakte Factory-Klasse, die die Erstellung für eine Linie, ein Kreis und ein Rechteck ermöglicht.\r\n */\r\nvar AbstractFactory = /** @class */ (function () {\r\n    function AbstractFactory(shapeManager) {\r\n        this.shapeManager = shapeManager;\r\n    }\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus drückt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    AbstractFactory.prototype.handleMouseDown = function (x, y) {\r\n        this.from = new Point2D(x, y);\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus loslässt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    AbstractFactory.prototype.handleMouseUp = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmpShape) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.shapeManager.removeIShapeWithId(this.tmpShape.id)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [4 /*yield*/, this.shapeManager.addIShape(shapeToIShape(this.createShape(this.from, new Point2D(x, y))), true)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        this.from = undefined;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus bewegt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    AbstractFactory.prototype.handleMouseMove = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        /**\r\n                         * Hier wird nur ein temporärer Kreis gezeichnet, wenn der Startpunkt definiert ist.\r\n                         */\r\n                        if (!this.from) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (!(!this.tmpTo || this.tmpTo.x !== x || this.tmpTo.y !== y)) return [3 /*break*/, 4];\r\n                        this.tmpTo = new Point2D(x, y);\r\n                        if (!this.tmpShape) return [3 /*break*/, 2];\r\n                        /**\r\n                         * Hier wird die temporäre Linie entfernt, wenn es existiert.\r\n                         */\r\n                        return [4 /*yield*/, this.shapeManager.removeIShapeWithId(this.tmpShape.id)];\r\n                    case 1:\r\n                        /**\r\n                         * Hier wird die temporäre Linie entfernt, wenn es existiert.\r\n                         */\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        /**\r\n                         * Hier wird ein temporäres Shape gezeichnet und hinzugefügt.\r\n                         */\r\n                        this.tmpShape = this.createShape(this.from, new Point2D(x, y));\r\n                        return [4 /*yield*/, this.shapeManager.addIShape(shapeToIShape(this.tmpShape))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AbstractFactory;\r\n}());\r\n/**\r\n * Eine Factory-Klasse, die Linien erstellt.\r\n */\r\nvar LineFactory = /** @class */ (function (_super) {\r\n    __extends(LineFactory, _super);\r\n    function LineFactory(shapeManager) {\r\n        var _this = _super.call(this, shapeManager) || this;\r\n        _this.label = 'Linie';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Diese Methode erstellt eine Linie.\r\n     * @param from - Der Startpunkt\r\n     * @param to - Der Endpunkt\r\n     */\r\n    LineFactory.prototype.createShape = function (from, to) {\r\n        return new Line(IDFactory.getNewId(), from, to, 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined);\r\n    };\r\n    return LineFactory;\r\n}(AbstractFactory));\r\nexport { LineFactory };\r\n/**\r\n * Eine Factory-Klasse, die Kreise erstellt.\r\n */\r\nvar CircleFactory = /** @class */ (function (_super) {\r\n    __extends(CircleFactory, _super);\r\n    function CircleFactory(shapeManager) {\r\n        var _this = _super.call(this, shapeManager) || this;\r\n        _this.label = 'Kreis';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Diese Methode erstellt einen Kreis.\r\n     * @param from - Der Startpunkt\r\n     * @param to - Der Endpunkt\r\n     */\r\n    CircleFactory.prototype.createShape = function (from, to) {\r\n        return new Circle(IDFactory.getNewId(), from, CircleFactory.computeRadius(from, to.x, to.y), 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined);\r\n    };\r\n    /**\r\n     * Diese Methode berechnet den Radius eines Kreises.\r\n     * @param from - Der Startpunkt\r\n     * @param x - Die x-Koordinate des Endpunkts\r\n     * @param y - Die y-Koordinate des Endpunkts\r\n     */\r\n    CircleFactory.computeRadius = function (from, x, y) {\r\n        var xDiff = from.x - x, yDiff = from.y - y;\r\n        return Math.sqrt(xDiff * xDiff + yDiff * yDiff);\r\n    };\r\n    return CircleFactory;\r\n}(AbstractFactory));\r\nexport { CircleFactory };\r\n/**\r\n * Eine Factory-Klasse, die Rechtecke erstellt.\r\n */\r\nvar RectangleFactory = /** @class */ (function (_super) {\r\n    __extends(RectangleFactory, _super);\r\n    function RectangleFactory(shapeManager) {\r\n        var _this = _super.call(this, shapeManager) || this;\r\n        _this.label = 'Rechteck';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Diese Methode erstellt ein Rechteck.\r\n     * @param from - Der Startpunkt\r\n     * @param to - Der Endpunkt\r\n     */\r\n    RectangleFactory.prototype.createShape = function (from, to) {\r\n        return new Rectangle(IDFactory.getNewId(), from, to, 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined);\r\n    };\r\n    return RectangleFactory;\r\n}(AbstractFactory));\r\nexport { RectangleFactory };\r\n/**\r\n * Eine Factory-Klasse, die Dreiecke erstellt und nicht die abstrakte Klasse AbstractFactory nutzt.\r\n */\r\nvar TriangleFactory = /** @class */ (function () {\r\n    function TriangleFactory(shapeManager) {\r\n        this.shapeManager = shapeManager;\r\n        this.label = 'Dreieck';\r\n    }\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus drückt.\r\n     * Hier wird die Shape auch endgültig gezeichnet und auf dem Server gespeichert.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    TriangleFactory.prototype.handleMouseDown = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmpShape) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.shapeManager.removeIShapeWithId(this.tmpShape.id)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.shapeManager.addIShape(shapeToIShape(new Triangle(IDFactory.getNewId(), this.from, this.tmpTo, new Point2D(x, y), 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined)), true)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.from = undefined;\r\n                        this.tmpTo = undefined;\r\n                        this.tmpLine = undefined;\r\n                        this.thirdPoint = undefined;\r\n                        this.tmpShape = undefined;\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        this.from = new Point2D(x, y);\r\n                        _a.label = 4;\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus loslässt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    TriangleFactory.prototype.handleMouseUp = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmpLine) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.shapeManager.removeIShapeWithId(this.tmpLine.id)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.tmpLine = undefined;\r\n                        this.tmpTo = new Point2D(x, y);\r\n                        this.thirdPoint = new Point2D(x, y);\r\n                        this.tmpShape = new Triangle(IDFactory.getNewId(), this.from, this.tmpTo, this.thirdPoint, 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined);\r\n                        return [4 /*yield*/, this.shapeManager.addIShape(shapeToIShape(this.tmpShape))];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus bewegt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    TriangleFactory.prototype.handleMouseMove = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        /**\r\n                         * Hier wird nur ein temporärer Kreis gezeichnet, wenn der Startpunkt definiert ist.\r\n                         */\r\n                        if (!this.from) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (!this.tmpShape) return [3 /*break*/, 5];\r\n                        if (!(!this.thirdPoint ||\r\n                            this.thirdPoint.x !== x ||\r\n                            this.thirdPoint.y !== y)) return [3 /*break*/, 4];\r\n                        this.thirdPoint = new Point2D(x, y);\r\n                        if (!this.tmpShape) return [3 /*break*/, 2];\r\n                        /**\r\n                         * Hier wird die temporäre Linie entfernt, wenn diese existiert.\r\n                         */\r\n                        return [4 /*yield*/, this.shapeManager.removeIShapeWithId(this.tmpShape.id)];\r\n                    case 1:\r\n                        /**\r\n                         * Hier wird die temporäre Linie entfernt, wenn diese existiert.\r\n                         */\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        /**\r\n                         * Hier wird ein temporäres Dreieck gezeichnet und hinzugefügt.\r\n                         */\r\n                        this.tmpShape = new Triangle(IDFactory.getNewId(), this.from, this.tmpTo, this.thirdPoint, 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined);\r\n                        return [4 /*yield*/, this.shapeManager.addIShape(shapeToIShape(this.tmpShape))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4: return [3 /*break*/, 9];\r\n                    case 5:\r\n                        if (!(!this.tmpTo || this.tmpTo.x !== x || this.tmpTo.y !== y)) return [3 /*break*/, 9];\r\n                        this.tmpTo = new Point2D(x, y);\r\n                        if (!this.tmpLine) return [3 /*break*/, 7];\r\n                        /**\r\n                         * Hier wird die temporäre Linie entfernt, wenn diese existiert.\r\n                         */\r\n                        return [4 /*yield*/, this.shapeManager.removeIShapeWithId(this.tmpLine.id)];\r\n                    case 6:\r\n                        /**\r\n                         * Hier wird die temporäre Linie entfernt, wenn diese existiert.\r\n                         */\r\n                        _a.sent();\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        /**\r\n                         * Hier wird eine temporäre Linie gezeichnet und hinzugefügt.\r\n                         */\r\n                        this.tmpLine = new Line(IDFactory.getNewId(), this.from, this.tmpTo, 'transparent', '#000000', SelectColorFactory.getSelectColor(), undefined);\r\n                        return [4 /*yield*/, this.shapeManager.addIShape(shapeToIShape(this.tmpLine))];\r\n                    case 8:\r\n                        _a.sent();\r\n                        _a.label = 9;\r\n                    case 9: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return TriangleFactory;\r\n}());\r\nexport { TriangleFactory };\r\n/**\r\n * Diese Klasse ist für die Selektion von Shapes zuständig.\r\n */\r\nvar SelectorFactory = /** @class */ (function () {\r\n    function SelectorFactory(shapeManager, userId) {\r\n        var _this = this;\r\n        this.shapeManager = shapeManager;\r\n        this.userId = userId;\r\n        this.label = 'Selektion';\r\n        this.isAltPressed = false;\r\n        this.isStrPressed = false;\r\n        this.isMousePressed = false;\r\n        this.iShapeStore = DrawingAreaIShapesStore.getInstance();\r\n        this.lastIndexOfIteratedShape = 0;\r\n        this.lastMovedShape = {\r\n            oldShape: undefined,\r\n            newShape: undefined,\r\n        };\r\n        /**\r\n         * Diese Methode wird aufgerufen, wenn eine Taste gedrückt wird auf dem document body.\r\n         */\r\n        document.body.addEventListener('keydown', function (e) {\r\n            _this.isAltPressed = e.altKey;\r\n            _this.isStrPressed = e.ctrlKey;\r\n        });\r\n        /**\r\n         * Diese Methode wird aufgerufen, wenn eine Taste losgelassen wird auf dem document body.\r\n         */\r\n        document.body.addEventListener('keyup', function (e) {\r\n            _this.isAltPressed = e.altKey;\r\n            _this.isStrPressed = e.ctrlKey;\r\n        });\r\n    }\r\n    SelectorFactory.prototype.handleMouseDown = function (x, y) {\r\n        this.isMousePressed = true;\r\n        this.cordsMousePressed = new Point2D(x, y);\r\n        this.lastMovedShape.oldShape = undefined;\r\n        this.lastMovedShape.newShape = undefined;\r\n    };\r\n    SelectorFactory.prototype.handleMouseUp = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.isMousePressed = false;\r\n                        if (!(this.lastMovedShape.oldShape && this.lastMovedShape.newShape)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.shapeManager.moveIShape(shapeToIShape(this.lastMovedShape.oldShape), shapeToIShape(this.lastMovedShape.newShape), true)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer die Maus bewegt und setzt Drag and Drop um.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    SelectorFactory.prototype.handleMouseMove = function (x, y) {\r\n        var _this = this;\r\n        if (this.isMousePressed &&\r\n            this.iShapeStore.getSelectedIShapes(this.userId).length !== 0) {\r\n            this.iShapeStore\r\n                .getSelectedIShapes(this.userId)\r\n                .map(iShapeToShape)\r\n                .forEach(function (shape) { return __awaiter(_this, void 0, void 0, function () {\r\n                var newShape, diffX, diffY;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!this.isMouseOverShape(shape, x, y)) return [3 /*break*/, 2];\r\n                            newShape = void 0;\r\n                            diffX = x - this.cordsMousePressed.x;\r\n                            diffY = y - this.cordsMousePressed.y;\r\n                            if (shape instanceof Line) {\r\n                                newShape = new Line(shape.id, new Point2D(shape.from.x + diffX, shape.from.y + diffY), new Point2D(shape.to.x + diffX, shape.to.y + diffY), shape.backgroundColor, shape.borderColor, shape.selectColor, shape.zIndex);\r\n                            }\r\n                            if (shape instanceof Circle) {\r\n                                newShape = new Circle(shape.id, new Point2D(shape.center.x + diffX, shape.center.y + diffY), shape.radius, shape.backgroundColor, shape.borderColor, shape.selectColor, shape.zIndex);\r\n                            }\r\n                            if (shape instanceof Rectangle) {\r\n                                newShape = new Rectangle(shape.id, new Point2D(shape.from.x + diffX, shape.from.y + diffY), new Point2D(shape.to.x + diffX, shape.to.y + diffY), shape.backgroundColor, shape.borderColor, shape.selectColor, shape.zIndex);\r\n                            }\r\n                            if (shape instanceof Triangle) {\r\n                                newShape = new Triangle(shape.id, new Point2D(shape.p1.x + diffX, shape.p1.y + diffY), new Point2D(shape.p2.x + diffX, shape.p2.y + diffY), new Point2D(shape.p3.x + diffX, shape.p3.y + diffY), shape.backgroundColor, shape.borderColor, shape.selectColor, shape.zIndex);\r\n                            }\r\n                            if (!(newShape !== undefined)) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.shapeManager.moveIShape(shapeToIShape(shape), shapeToIShape(newShape))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            /**\r\n                             * Das alte Shape und neue Shape werden gespeichert, damit das letzte Event wiederholt werden kann, um in den EventStream zu schreiben.\r\n                             * Sonst würde jedes Event in dem EventStream stehen und das führt zu einer unübersichtlichen Darstellung.\r\n                             */\r\n                            this.lastMovedShape.oldShape = shape;\r\n                            this.lastMovedShape.newShape = newShape;\r\n                            this.cordsMousePressed = new Point2D(x, y);\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer auf das Canvas rechts klickt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    SelectorFactory.prototype.handleContextMenu = function (x, y) {\r\n        var _this = this;\r\n        if (this.iShapeStore.getSelectedIShapes(this.userId).length !== 0) {\r\n            var popupMenu = new PopupMenu();\r\n            var popupMenuItem = popupMenu.createMenuItem('Löschen', function (menu) {\r\n                _this.iShapeStore\r\n                    .getSelectedIShapes(_this.userId)\r\n                    .forEach(function (shape) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, this.shapeManager.removeIShapeWithId(shape.id, true)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n                menu === null || menu === void 0 ? void 0 : menu.hide();\r\n            });\r\n            popupMenu.addMenuItem(popupMenuItem);\r\n            var popUpSeparator = popupMenu.createSeparator();\r\n            popupMenu.addMenuItem(popUpSeparator);\r\n            var radioOptionBackground = popupMenu.createRadioOption('Hintergrundfarbe:', {\r\n                transparent: 'transparent',\r\n                '#FF0000': 'rot',\r\n                '#00FF00': 'grün',\r\n                '#FFFF00': 'gelb',\r\n                '#0000FF': 'blau',\r\n                '#000000': 'schwarz',\r\n            }, this.iShapeStore.getSelectedIShapes(this.userId).length === 1\r\n                ? this.iShapeStore.getSelectedIShapes(this.userId)[0].backgroundColor\r\n                : undefined, function (color) {\r\n                _this.iShapeStore\r\n                    .getSelectedIShapes(_this.userId)\r\n                    .forEach(function (iShape) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, this.shapeManager.setBackgroundColor(iShape, color)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n            });\r\n            popupMenu.addMenuItem(radioOptionBackground);\r\n            var popUpSeparator2 = popupMenu.createSeparator();\r\n            popupMenu.addMenuItem(popUpSeparator2);\r\n            var radioOptionBorder = popupMenu.createRadioOption('Rahmenfarbe:', {\r\n                '#FF0000': 'rot',\r\n                '#00FF00': 'grün',\r\n                '#FFFF00': 'gelb',\r\n                '#0000FF': 'blau',\r\n                '#000000': 'schwarz',\r\n            }, this.iShapeStore.getSelectedIShapes(this.userId).length === 1\r\n                ? this.iShapeStore.getSelectedIShapes(this.userId)[0].borderColor\r\n                : undefined, function (color) {\r\n                _this.iShapeStore\r\n                    .getSelectedIShapes(_this.userId)\r\n                    .forEach(function (iShape) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, this.shapeManager.setBorderColor(iShape, color)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n            });\r\n            popupMenu.addMenuItem(radioOptionBorder);\r\n            var popUpSeparator3 = popupMenu.createSeparator();\r\n            popupMenu.addMenuItem(popUpSeparator3);\r\n            var popupMenuItemForeGround = popupMenu.createMenuItem('in den Vordergrund (ganz vor)', function () {\r\n                _this.iShapeStore\r\n                    .getSelectedIShapes(_this.userId)\r\n                    .forEach(function (iShape) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, this.shapeManager.setZIndex(iShape, 'end')];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n            });\r\n            popupMenu.addMenuItem(popupMenuItemForeGround);\r\n            var popUpSeparator4 = popupMenu.createSeparator();\r\n            popupMenu.addMenuItem(popUpSeparator4);\r\n            var popupMenuItemBackGround = popupMenu.createMenuItem('in den Hintergrund (ganz hinter)', function () {\r\n                _this.iShapeStore\r\n                    .getSelectedIShapes(_this.userId)\r\n                    .forEach(function (iShape) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, this.shapeManager.setZIndex(iShape, 'start')];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n            });\r\n            popupMenu.addMenuItem(popupMenuItemBackGround);\r\n            popupMenu.show(x, y);\r\n        }\r\n    };\r\n    /**\r\n     * Diese Methode wird aufgerufen, wenn der Benutzer auf das Canvas klickt.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     */\r\n    SelectorFactory.prototype.handleMouseClick = function (x, y) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var shapes, i, index, shape;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.isStrPressed) {\r\n                            this.resetShapesSelection();\r\n                        }\r\n                        if (!this.isAltPressed) {\r\n                            this.lastIndexOfIteratedShape = 0;\r\n                        }\r\n                        shapes = this.iShapeStore.getIShapes().map(iShapeToShape);\r\n                        i = shapes.length - 1;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i >= 0)) return [3 /*break*/, 7];\r\n                        index = (this.lastIndexOfIteratedShape + i) % shapes.length;\r\n                        shape = shapes[index];\r\n                        if (!this.isMouseOverShape(shape, x, y)) return [3 /*break*/, 6];\r\n                        if (!(this.isAltPressed && this.isShapeSelected(shape))) return [3 /*break*/, 4];\r\n                        if (!!this.isStrPressed) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.shapeManager.unselectIShape(shape.id, true)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [3 /*break*/, 6];\r\n                    case 4: return [4 /*yield*/, this.shapeManager.selectIShape(shapeToIShape(shape), true)];\r\n                    case 5:\r\n                        _a.sent();\r\n                        this.lastIndexOfIteratedShape = index;\r\n                        return [3 /*break*/, 7];\r\n                    case 6:\r\n                        i--;\r\n                        return [3 /*break*/, 1];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Diese Methode setzt die Selektion zurück.\r\n     */\r\n    SelectorFactory.prototype.resetShapesSelection = function () {\r\n        var _this = this;\r\n        if (this.iShapeStore.getSelectedIShapes(this.userId).length === 0) {\r\n            return;\r\n        }\r\n        this.iShapeStore.getSelectedIShapes(this.userId).forEach(function (shape) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.shapeManager.unselectIShape(shape.id, true)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    /**\r\n     * Diese Methode prüft, ob eine Shape selektiert ist.\r\n     * @param shape - Die Shape die geprüft werden soll\r\n     */\r\n    SelectorFactory.prototype.isShapeSelected = function (shape) {\r\n        var index = this.iShapeStore\r\n            .getSelectedIShapes(this.userId)\r\n            .indexOf(shapeToIShape(shape));\r\n        return index !== -1;\r\n    };\r\n    /**\r\n     * Diese Methode prüft, ob der Mauszeiger über einer Shape ist.\r\n     * @param shape Die Shape\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     * @returns true, wenn der Mauszeiger über der Shape ist, sonst false\r\n     */\r\n    SelectorFactory.prototype.isMouseOverShape = function (shape, x, y) {\r\n        if (shape instanceof Line) {\r\n            return this.isMouseOverLine(shape, x, y);\r\n        }\r\n        if (shape instanceof Circle) {\r\n            return this.isMouseOverCircle(shape, x, y);\r\n        }\r\n        if (shape instanceof Rectangle) {\r\n            return this.isMouseOverRectangle(shape, x, y);\r\n        }\r\n        if (shape instanceof Triangle) {\r\n            return this.isMouseOverTriangle(shape, x, y);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Diese Methode prüft, ob der Mauszeiger über einer Linie ist.\r\n     * @param shape - Die Linie\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     * @returns true, wenn der Mauszeiger über der Linie ist mit einer Toleranz von 5 Pixeln, sonst false\r\n     * Coauthored by ChatGPT\r\n     */\r\n    SelectorFactory.prototype.isMouseOverLine = function (shape, x, y) {\r\n        if (((x > shape.from.x - 5 && x < shape.to.x + 5) ||\r\n            (x < shape.from.x + 5 && x > shape.to.x - 5)) &&\r\n            ((y > shape.from.y - 5 && y < shape.to.y + 5) ||\r\n                (y < shape.from.y + 5 && y > shape.to.y - 5))) {\r\n            var dx = shape.to.x - shape.from.x;\r\n            var dy = shape.to.y - shape.from.y;\r\n            var dxPoint = x - shape.from.x;\r\n            var dyPoint = y - shape.from.y;\r\n            var scalar = (dxPoint * dx + dyPoint * dy) / (dx * dx + dy * dy);\r\n            var xProjection = shape.from.x + scalar * dx;\r\n            var yProjection = shape.from.y + scalar * dy;\r\n            var distance = Math.sqrt((x - xProjection) * (x - xProjection) +\r\n                (y - yProjection) * (y - yProjection));\r\n            return distance < 5;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Diese Methode prüft, ob der Mauszeiger über einem Kreis ist.\r\n     * @param shape - Der Kreis\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     * @returns true, wenn der Mauszeiger über dem Kreis ist, sonst false\r\n     */\r\n    SelectorFactory.prototype.isMouseOverCircle = function (shape, x, y) {\r\n        var dx = shape.center.x - x;\r\n        var dy = shape.center.y - y;\r\n        return Math.sqrt(dx * dx + dy * dy) < shape.radius;\r\n    };\r\n    /**\r\n     * Diese Methode prüft, ob der Mauszeiger über einem Rechteck ist.\r\n     * @param shape - Das Rechteck\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     * @returns true, wenn der Mauszeiger über dem Rechteck ist, sonst false\r\n     */\r\n    SelectorFactory.prototype.isMouseOverRectangle = function (shape, x, y) {\r\n        return (((x > shape.from.x && x < shape.to.x) ||\r\n            (x < shape.from.x && x > shape.to.x)) &&\r\n            ((y > shape.from.y && y < shape.to.y) ||\r\n                (y < shape.from.y + 5 && y > shape.to.y)));\r\n    };\r\n    /**\r\n     * Diese Methode prüft, ob der Mauszeiger über einem Dreieck ist.\r\n     * @param shape - Das Dreieck\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     * @returns true, wenn der Mauszeiger über dem Dreieck ist, sonst false\r\n     * Coauthored by ChatGPT\r\n     */\r\n    SelectorFactory.prototype.isMouseOverTriangle = function (shape, x, y) {\r\n        var b1 = this.calculateSign(x, y, shape.p1.x, shape.p1.y, shape.p2.x, shape.p2.y) <\r\n            0.0;\r\n        var b2 = this.calculateSign(x, y, shape.p2.x, shape.p2.y, shape.p3.x, shape.p3.y) <\r\n            0.0;\r\n        var b3 = this.calculateSign(x, y, shape.p3.x, shape.p3.y, shape.p1.x, shape.p1.y) <\r\n            0.0;\r\n        return b1 === b2 && b2 === b3;\r\n    };\r\n    /**\r\n     * Diese Methode berechnet das Vorzeichen eines Dreiecks.\r\n     * @param x - Die x-Koordinate des Mauszeigers\r\n     * @param y - Die y-Koordinate des Mauszeigers\r\n     * @param x2 - Die x-Koordinate des zweiten Punktes des Dreiecks\r\n     * @param y2 - Die y-Koordinate des zweiten Punktes des Dreiecks\r\n     * @param x3 - Die x-Koordinate des dritten Punktes des Dreiecks\r\n     * @param y3 - Die y-Koordinate des dritten Punktes des Dreiecks\r\n     * @returns Das Vorzeichen des Dreiecks\r\n     * Coauthored by ChatGPT\r\n     */\r\n    SelectorFactory.prototype.calculateSign = function (x, y, x2, y2, x3, y3) {\r\n        return (x - x3) * (y2 - y3) - (x2 - x3) * (y - y3);\r\n    };\r\n    return SelectorFactory;\r\n}());\r\nexport { SelectorFactory };\r\n","/**\r\n * Klasse für die ToolArea, die die Werkzeuge für die Zeichenfläche bereitstellt.\r\n */\r\nvar ToolArea = /** @class */ (function () {\r\n    function ToolArea(shapesSelector, menue) {\r\n        var _this = this;\r\n        var domElms = [];\r\n        shapesSelector.forEach(function (sl) {\r\n            var domSelElement = document.createElement('li');\r\n            domSelElement.innerText = sl.label;\r\n            menue.appendChild(domSelElement);\r\n            domElms.push(domSelElement);\r\n            domSelElement.addEventListener('click', function () {\r\n                selectFactory.call(_this, sl, domSelElement);\r\n            });\r\n        });\r\n        var selectFactory = function (sl, domElm) {\r\n            // remove class from all elements\r\n            for (var j = 0; j < domElms.length; j++) {\r\n                domElms[j].classList.remove('marked');\r\n            }\r\n            _this.selectedShape = sl;\r\n            // add class to the one that is selected currently\r\n            domElm.classList.add('marked');\r\n        };\r\n    }\r\n    ToolArea.prototype.getSelectedShape = function () {\r\n        return this.selectedShape;\r\n    };\r\n    return ToolArea;\r\n}());\r\nexport { ToolArea };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n/**\r\n * Holt die Informationen für eine Zeichenfläche.\r\n * @param drawingAreaId - ID der Zeichenfläche.\r\n */\r\nexport function getInformationForDrawingArea(drawingAreaId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, errorData, data, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 5, , 6]);\r\n                    return [4 /*yield*/, fetch('/api/drawingArea/getDrawingAreaInformation', {\r\n                            method: 'POST',\r\n                            credentials: 'include',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            body: JSON.stringify({\r\n                                drawingAreaId: drawingAreaId,\r\n                            }),\r\n                        })];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    if (!!response.ok) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    errorData = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            success: false,\r\n                            message: \"Fehler: \".concat(errorData.message),\r\n                        }];\r\n                case 3: return [4 /*yield*/, response.json()];\r\n                case 4:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            success: true,\r\n                            message: data.message,\r\n                            isModerated: data.isModerated,\r\n                            eventsForDrawingArea: data.eventsForDrawingArea,\r\n                        }];\r\n                case 5:\r\n                    e_1 = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            success: false,\r\n                            message: \"\".concat(e_1),\r\n                        }];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n","import { Circle, Line, Rectangle, Triangle } from '../classes/ShapeClasses';\r\n/**\r\n * Konvertiert ein IShape in ein Shape\r\n * @param iShape Die IShape, die konvertiert werden soll\r\n */\r\nexport function iShapeToShape(iShape) {\r\n    switch (iShape.type) {\r\n        case 'Line':\r\n            return new Line(iShape.id, iShape.from, iShape.to, iShape.backgroundColor, iShape.borderColor, iShape.selectColor, iShape.zIndex);\r\n        case 'Rectangle':\r\n            return new Rectangle(iShape.id, iShape.from, iShape.to, iShape.backgroundColor, iShape.borderColor, iShape.selectColor, iShape.zIndex);\r\n        case 'Circle':\r\n            return new Circle(iShape.id, iShape.center, iShape.radius, iShape.backgroundColor, iShape.borderColor, iShape.selectColor, iShape.zIndex);\r\n        case 'Triangle':\r\n            return new Triangle(iShape.id, iShape.p1, iShape.p2, iShape.p3, iShape.backgroundColor, iShape.borderColor, iShape.selectColor, iShape.zIndex);\r\n    }\r\n}\r\n/**\r\n * Konvertiert ein Shape in ein IShape\r\n * @param shape Die Shape, die konvertiert werden soll\r\n */\r\nexport function shapeToIShape(shape) {\r\n    switch (shape.type) {\r\n        case 'Line':\r\n            return {\r\n                id: shape.id,\r\n                type: 'Line',\r\n                borderColor: shape.borderColor,\r\n                backgroundColor: shape.backgroundColor,\r\n                selectColor: shape.selectColor,\r\n                zIndex: shape.zIndex,\r\n                from: shape.from,\r\n                to: shape.to,\r\n            };\r\n        case 'Rectangle':\r\n            return {\r\n                id: shape.id,\r\n                type: 'Rectangle',\r\n                borderColor: shape.borderColor,\r\n                backgroundColor: shape.backgroundColor,\r\n                selectColor: shape.selectColor,\r\n                zIndex: shape.zIndex,\r\n                from: shape.from,\r\n                to: shape.to,\r\n            };\r\n        case 'Circle':\r\n            return {\r\n                id: shape.id,\r\n                type: 'Circle',\r\n                borderColor: shape.borderColor,\r\n                backgroundColor: shape.backgroundColor,\r\n                selectColor: shape.selectColor,\r\n                zIndex: shape.zIndex,\r\n                center: shape.center,\r\n                radius: shape.radius,\r\n            };\r\n        case 'Triangle':\r\n            return {\r\n                id: shape.id,\r\n                type: 'Triangle',\r\n                borderColor: shape.borderColor,\r\n                backgroundColor: shape.backgroundColor,\r\n                selectColor: shape.selectColor,\r\n                zIndex: shape.zIndex,\r\n                p1: shape.p1,\r\n                p2: shape.p2,\r\n                p3: shape.p3,\r\n            };\r\n    }\r\n}\r\n","/**\r\n * Erstellt ein Modal mit einer Nachricht.\r\n * Alert würde an einigen Stellen nicht funktionieren, da der Alert-Dialog den JavaScript-Thread blockiert.\r\n * @param title - Titel des Modals\r\n * @param text - Text des Modals\r\n */\r\nexport function showCustomMessageModal(title, text) {\r\n    var messageModal = document.createElement('div');\r\n    messageModal.classList.add('modal');\r\n    messageModal.style.display = 'block';\r\n    var modalContent = document.createElement('div');\r\n    modalContent.classList.add('modal-content');\r\n    var closeButton = document.createElement('span');\r\n    closeButton.classList.add('close');\r\n    closeButton.innerHTML = '&times;';\r\n    closeButton.addEventListener('click', function () {\r\n        document.body.removeChild(messageModal);\r\n    });\r\n    var titleElement = document.createElement('h2');\r\n    titleElement.textContent = title;\r\n    var textElement = document.createElement('p');\r\n    textElement.textContent = text;\r\n    var okButton = document.createElement('button');\r\n    okButton.textContent = 'Bestätigen';\r\n    okButton.addEventListener('click', function () {\r\n        document.body.removeChild(messageModal);\r\n    });\r\n    modalContent.appendChild(closeButton);\r\n    modalContent.appendChild(titleElement);\r\n    modalContent.appendChild(textElement);\r\n    modalContent.appendChild(okButton);\r\n    messageModal.appendChild(modalContent);\r\n    document.body.appendChild(messageModal);\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n/**\r\n * Fügt einen Benutzer zu einer Zeichenfläche hinzu.\r\n * @param drawingAreaId - ID der Zeichenfläche\r\n * @param permission - Berechtigung des Benutzers, der hinzugefügt werden soll\r\n * @param userIdToAdd - ID des Benutzers, der hinzugefügt werden soll\r\n */\r\nexport function addUserToDrawingArea(drawingAreaId, permission, userIdToAdd) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, errorData, data, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 5, , 6]);\r\n                    return [4 /*yield*/, fetch('/api/drawingArea/addUserToDrawingArea', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            credentials: 'include',\r\n                            body: JSON.stringify({\r\n                                drawingAreaId: drawingAreaId,\r\n                                permission: permission,\r\n                                userIdToAdd: userIdToAdd,\r\n                            }),\r\n                        })];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    if (!!response.ok) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    errorData = _a.sent();\r\n                    throw new Error(\"User konnte nicht hinzugef\\u00FCgt werden: \".concat(errorData.message));\r\n                case 3: return [4 /*yield*/, response.json()];\r\n                case 4:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, { success: true, message: data.message }];\r\n                case 5:\r\n                    e_1 = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            success: false,\r\n                            message: \"\".concat(e_1),\r\n                        }];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Holt die Benutzer für eine Zeichenfläche.\r\n * @param drawingAreaId - ID der Zeichenfläche\r\n */\r\nexport function getUsersForDrawingArea(drawingAreaId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, errorData, data, e_2;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 5, , 6]);\r\n                    return [4 /*yield*/, fetch('/api/drawingArea/getUsersFromDrawingArea', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            credentials: 'include',\r\n                            body: JSON.stringify({\r\n                                drawingAreaId: drawingAreaId,\r\n                            }),\r\n                        })];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    if (!!response.ok) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    errorData = _a.sent();\r\n                    throw new Error(\"User konnte nicht gefunden werden: \".concat(errorData.message));\r\n                case 3: return [4 /*yield*/, response.json()];\r\n                case 4:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, { success: true, message: data.message, users: data.users }];\r\n                case 5:\r\n                    e_2 = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            success: false,\r\n                            message: \"\".concat(e_2),\r\n                        }];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Entfernt einen Benutzer von einer Zeichenfläche.\r\n * @param drawingAreaId - ID der Zeichenfläche\r\n * @param userIdToRemove - ID des Benutzers, der entfernt werden soll\r\n */\r\nexport function removeUserFromDrawingArea(drawingAreaId, userIdToRemove) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, errorData, data, e_3;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 5, , 6]);\r\n                    return [4 /*yield*/, fetch('/api/drawingArea/removeUserFromDrawingArea', {\r\n                            method: 'DELETE',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            credentials: 'include',\r\n                            body: JSON.stringify({\r\n                                drawingAreaId: drawingAreaId,\r\n                                userIdToRemove: userIdToRemove,\r\n                            }),\r\n                        })];\r\n                case 1:\r\n                    response = _a.sent();\r\n                    if (!!response.ok) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    errorData = _a.sent();\r\n                    throw new Error(\"User konnte nicht entfernt werden: \".concat(errorData.message));\r\n                case 3: return [4 /*yield*/, response.json()];\r\n                case 4:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, { success: true, message: data.message }];\r\n                case 5:\r\n                    e_3 = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            success: false,\r\n                            message: \"\".concat(e_3),\r\n                        }];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n","/**\r\n * Die verschiedenen Typen von Events, die auftreten können\r\n */\r\nexport var IShapeEventType;\r\n(function (IShapeEventType) {\r\n    IShapeEventType[\"IShapeAdded\"] = \"IShapeAdded\";\r\n    IShapeEventType[\"IShapeRemoved\"] = \"IShapeRemoved\";\r\n    IShapeEventType[\"IShapeSelected\"] = \"IShapeSelected\";\r\n    IShapeEventType[\"IShapeUnselected\"] = \"IShapeUnselected\";\r\n})(IShapeEventType || (IShapeEventType = {}));\r\nvar IShapeAdded = /** @class */ (function () {\r\n    function IShapeAdded(iShape) {\r\n        this.iShape = iShape;\r\n        this.type = IShapeEventType.IShapeAdded;\r\n    }\r\n    return IShapeAdded;\r\n}());\r\nexport { IShapeAdded };\r\nvar IShapeRemoved = /** @class */ (function () {\r\n    function IShapeRemoved(id) {\r\n        this.id = id;\r\n        this.type = IShapeEventType.IShapeRemoved;\r\n    }\r\n    return IShapeRemoved;\r\n}());\r\nexport { IShapeRemoved };\r\nvar IShapeSelected = /** @class */ (function () {\r\n    function IShapeSelected(iShape, userId) {\r\n        this.iShape = iShape;\r\n        this.userId = userId;\r\n        this.type = IShapeEventType.IShapeSelected;\r\n    }\r\n    return IShapeSelected;\r\n}());\r\nexport { IShapeSelected };\r\nvar IShapeUnselected = /** @class */ (function () {\r\n    function IShapeUnselected(id, userId) {\r\n        this.id = id;\r\n        this.userId = userId;\r\n        this.type = IShapeEventType.IShapeUnselected;\r\n    }\r\n    return IShapeUnselected;\r\n}());\r\nexport { IShapeUnselected };\r\n","/**\r\n * Rechte, die ein Benutzer auf einer Zeichenfläche haben kann ausgeschrieben.\r\n */\r\nexport var drawingAreaPermissions = {\r\n    O: 'Owner',\r\n    CO: 'Coowner',\r\n    M: 'Moderator',\r\n    V: 'VIP',\r\n    W: 'Writer',\r\n    R: 'Reader', // kann Zeichenfläche lesen\r\n};\r\n","/**\r\n * Klasse für einen 2D-Punkt\r\n */\r\nvar Point2D = /** @class */ (function () {\r\n    function Point2D(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return Point2D;\r\n}());\r\nexport { Point2D };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { CustomIShapeManager } from '../utils/classes/CustomIShapeManager';\r\nimport { CircleFactory, LineFactory, RectangleFactory, SelectorFactory, TriangleFactory, } from '../utils/classes/ShapeFactories';\r\nimport { ToolArea } from '../utils/classes/ToolArea';\r\nimport { Canvas } from '../utils/classes/Canvas';\r\nimport { EventFan } from '../utils/classes/EventFan';\r\nimport { drawingAreaPermissions, } from '../utils/interfaces-types/typesPermissions';\r\nimport { addUserToDrawingArea, getUsersForDrawingArea, removeUserFromDrawingArea, } from '../utils/functions/updateUsersForDrawingArea';\r\nimport { getInformationForDrawingArea } from '../utils/functions/getInformationForDrawingArea';\r\nimport { SelectColorFactory } from '../utils/classes/SelectColorFactory';\r\nimport { DrawingAreaIShapesStore } from '../store/DrawingAreaIShapesStore';\r\nimport { showCustomMessageModal } from '../utils/functions/showCustomMessageModal';\r\n/**\r\n * Klasse für die eine DrawingArea-Seite.\r\n */\r\nvar DrawingArea = /** @class */ (function () {\r\n    function DrawingArea(drawingAreaId, permission, authHandler) {\r\n        this.moderatedState = false;\r\n        this.iShapeStore = DrawingAreaIShapesStore.getInstance();\r\n        this.drawingAreaId = drawingAreaId;\r\n        this.permission = permission;\r\n        this.authHandler = authHandler;\r\n    }\r\n    /**\r\n     * Rendert die Zeichenfläche.\r\n     */\r\n    DrawingArea.prototype.render = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, \"\\n            <p>W\\u00E4hlen Sie auf der linken Seite Ihr Zeichenwerkzeug aus.\\n            Haben Sie eines ausgew\\u00E4hlt, k\\u00F6nnen Sie mit der Maus\\n            die entsprechenden Figuren zeichen. Typischerweise, indem\\n            Sie die Maus dr\\u00FCcken, dann mit gedr\\u00FCckter Maustaste die\\n            Form bestimmen, und dann anschlie\\u00DFend die Maustaste loslassen.\\n            </p>\\n                        \\n            <div class=\\\"custom-drawing-area-wrapper\\\" id=\\\"customDrawingAreaWrapper\\\">\\n                <ul class=\\\"tools\\\" id=\\\"tools\\\"></ul>\\n            \\n                <canvas id=\\\"drawArea\\\" class=\\\"draw-area\\\" width=\\\"900\\\" height=\\\"800\\\"></canvas>      \\n                \\n                <section class=\\\"sub-custom-drawing-area-wrapper\\\">\\n                    <p>Zeichenfl\\u00E4che ID: \".concat(this.drawingAreaId, \"</p>\\n                    <p>Deine Rechte: \").concat(drawingAreaPermissions[this.permission], \"</p>\\n                    <p id=\\\"moderate-p\\\">Zustand der Zeichenfl\\u00E4che: \").concat(this.moderatedState ? 'moderiert' : 'normal', \"</p>\\n                    <div class=\\\"dynamic-sub-custom-drawing-area-wrapper\\\" id=\\\"dynamic-sub-wrapper\\\">\\n                    </div>\\n                    <button class=\\\"custom-button\\\" id=\\\"back\\\">Zur\\u00FCck zur \\u00DCbersicht</button>     \\n                    <button class=\\\"custom-button\\\" id=\\\"logout\\\">Logout</button>\\n                    <p>Verbundene User auf dieser Zeichenfl\\u00E4che:</p>      \\n                    <ul id=\\\"connectedUsers\\\">               \\n                       \\n                    </ul> \\n                </section> \\n            </div>\\n        \")];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Initialisiert die Zeichenfläche.\r\n     * @param router - Router-Instanz\r\n     */\r\n    DrawingArea.prototype.initialize = function (router) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var ws, canvasDomElm, menu, canvas, eventFan, sm, shapesSelector, toolArea, logoutButton, backButton, moderateP;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        ws = new WebSocket(\"ws://localhost:3000/ws/drawingArea/\".concat(this.drawingAreaId));\r\n                        /**\r\n                         * Event-Handler für die WebSocket-Verbindung bei Verbindungsaufbau.\r\n                         */\r\n                        ws.onopen = function () {\r\n                            console.log(\"Verbunden mit DrawingArea: \".concat(_this.drawingAreaId));\r\n                        };\r\n                        /**\r\n                         * Event-Handler für die WebSocket-Verbindung bei Verbindungsschluss.\r\n                         */\r\n                        ws.onclose = function () {\r\n                            console.log(\"Verbindung zu DrawingArea \".concat(_this.drawingAreaId, \" geschlossen\"));\r\n                        };\r\n                        /**\r\n                         * Event-Handler für die WebSocket-Verbindung bei verschiedenen Nachrichten.\r\n                         * @param event - Event-Objekt vom Server\r\n                         */\r\n                        ws.onmessage = function (event) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var message, connectedUsersListElement_1, connectedUsers, selectColor, customDrawingAreaWrapper;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0:\r\n                                        message = JSON.parse(event.data);\r\n                                        if (!(message.type === 'connectedUsers')) return [3 /*break*/, 1];\r\n                                        connectedUsersListElement_1 = document.getElementById('connectedUsers');\r\n                                        connectedUsers = message.connectedUsers;\r\n                                        if (connectedUsersListElement_1) {\r\n                                            connectedUsersListElement_1.innerHTML = '';\r\n                                            connectedUsers.forEach(function (user) {\r\n                                                var li = document.createElement('li');\r\n                                                var span = document.createElement('span');\r\n                                                span.innerText = \"\".concat(user.color);\r\n                                                span.style.color = user.color;\r\n                                                li.innerText = \"User: \".concat(user.name, \", Selekt-Farbe: \");\r\n                                                li.appendChild(span);\r\n                                                connectedUsersListElement_1.appendChild(li);\r\n                                            });\r\n                                        }\r\n                                        return [3 /*break*/, 10];\r\n                                    case 1:\r\n                                        if (!(message.type === 'selectColor')) return [3 /*break*/, 2];\r\n                                        selectColor = message.selectColor;\r\n                                        SelectColorFactory.setSelectColor(selectColor);\r\n                                        return [3 /*break*/, 10];\r\n                                    case 2:\r\n                                        if (!(message.type === 'update')) return [3 /*break*/, 3];\r\n                                        eventFan.applyEvents(message.event);\r\n                                        return [3 /*break*/, 10];\r\n                                    case 3:\r\n                                        if (!(message.type === 'moderate')) return [3 /*break*/, 4];\r\n                                        this.moderatedState = message.moderated;\r\n                                        if (moderateP) {\r\n                                            moderateP.innerText = \"Zustand der Zeichenfl\\u00E4che: \".concat(this.moderatedState ? 'moderiert' : 'normal');\r\n                                        }\r\n                                        if (this.permission === 'W') {\r\n                                            if (this.moderatedState) {\r\n                                                canvasDomElm.style.pointerEvents = 'none';\r\n                                                menu.remove();\r\n                                            }\r\n                                            else {\r\n                                                canvasDomElm.style.pointerEvents = 'auto';\r\n                                                customDrawingAreaWrapper = document.getElementById('customDrawingAreaWrapper');\r\n                                                if (customDrawingAreaWrapper) {\r\n                                                    customDrawingAreaWrapper.insertBefore(menu, canvasDomElm);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        return [3 /*break*/, 10];\r\n                                    case 4:\r\n                                        if (!(message.type === 'eventSuccess')) return [3 /*break*/, 5];\r\n                                        eventFan.applyEvents(message.event);\r\n                                        return [3 /*break*/, 10];\r\n                                    case 5:\r\n                                        if (!(message.type === 'error')) return [3 /*break*/, 6];\r\n                                        showCustomMessageModal('Fehler', message.message);\r\n                                        return [3 /*break*/, 10];\r\n                                    case 6:\r\n                                        if (!(message.type === 'criticalError')) return [3 /*break*/, 9];\r\n                                        showCustomMessageModal('Kritischer Fehler', message.message);\r\n                                        return [4 /*yield*/, this.authHandler.refreshDrawingAreas()];\r\n                                    case 7:\r\n                                        _a.sent();\r\n                                        ws.close();\r\n                                        return [4 /*yield*/, router.navigateTo('#/')];\r\n                                    case 8:\r\n                                        _a.sent();\r\n                                        return [3 /*break*/, 10];\r\n                                    case 9:\r\n                                        showCustomMessageModal('Unbekannter Fehler', \"Unbekannter Fehler vom Server: \".concat(message));\r\n                                        _a.label = 10;\r\n                                    case 10: return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        }); };\r\n                        /**\r\n                         * Registriert den WebSocket für die DrawingArea, damit der Router die Verbindung schließen kann, wenn die Seite verlassen wird.\r\n                         */\r\n                        router.registerWebsocket(ws);\r\n                        canvasDomElm = document.getElementById('drawArea');\r\n                        menu = document.getElementById('tools');\r\n                        eventFan = new EventFan();\r\n                        sm = new CustomIShapeManager(eventFan, ws, this.authHandler.getUserId());\r\n                        shapesSelector = [\r\n                            new LineFactory(sm),\r\n                            new CircleFactory(sm),\r\n                            new RectangleFactory(sm),\r\n                            new TriangleFactory(sm),\r\n                            new SelectorFactory(sm, this.authHandler.getUserId()),\r\n                        ];\r\n                        toolArea = new ToolArea(shapesSelector, menu);\r\n                        canvas = new Canvas(canvasDomElm, toolArea, this.authHandler.getUserId());\r\n                        eventFan.register(canvas);\r\n                        logoutButton = document.getElementById('logout');\r\n                        if (logoutButton) {\r\n                            logoutButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4 /*yield*/, this.authHandler.logout()];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [4 /*yield*/, router.navigateTo('#/login')];\r\n                                        case 2:\r\n                                            _a.sent();\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); });\r\n                        }\r\n                        backButton = document.getElementById('back');\r\n                        if (backButton) {\r\n                            backButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4 /*yield*/, router.navigateTo('#/')];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); });\r\n                        }\r\n                        /**\r\n                         * Erstellt die dynamischen Buttons für die DrawingArea, abhängig von den Rechten des Users.\r\n                         */\r\n                        this.createDynamicButtons(ws);\r\n                        /**\r\n                         * Lädt die Informationen für die DrawingArea.\r\n                         */\r\n                        return [4 /*yield*/, this.getDrawingAreaInformation(eventFan, ws, router)];\r\n                    case 1:\r\n                        /**\r\n                         * Lädt die Informationen für die DrawingArea.\r\n                         */\r\n                        _a.sent();\r\n                        /**\r\n                         * Ist der Zustand der Zeichenfläche moderiert, werden die Zeichenfläche und das Menü für den User, abhängig von den Rechten, gesperrt.\r\n                         */\r\n                        if ((this.moderatedState && this.permission === 'W') ||\r\n                            this.permission === 'R') {\r\n                            menu.remove();\r\n                        }\r\n                        moderateP = document.getElementById('moderate-p');\r\n                        if (moderateP) {\r\n                            moderateP.innerText = \"Zustand der Zeichenfl\\u00E4che: \".concat(this.moderatedState ? 'moderiert' : 'normal');\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Lädt die Informationen für die DrawingArea.\r\n     * @param eventFan - EventFan-Instanz\r\n     * @param ws - WebSocket-Instanz\r\n     * @param router - Router-Instanz\r\n     */\r\n    DrawingArea.prototype.getDrawingAreaInformation = function (eventFan, ws, router) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, success, message, isModerated, eventsForDrawingArea;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, getInformationForDrawingArea(this.drawingAreaId)];\r\n                    case 1:\r\n                        _a = _b.sent(), success = _a.success, message = _a.message, isModerated = _a.isModerated, eventsForDrawingArea = _a.eventsForDrawingArea;\r\n                        if (success &&\r\n                            isModerated !== undefined &&\r\n                            eventsForDrawingArea !== undefined) {\r\n                            this.moderatedState = isModerated;\r\n                            this.iShapeStore.setIShapes([]);\r\n                            this.iShapeStore.setSelectedIShapes([]);\r\n                            eventFan.applyEvents(eventsForDrawingArea);\r\n                        }\r\n                        if (!!success) return [3 /*break*/, 4];\r\n                        showCustomMessageModal('Fehler', message);\r\n                        ws.close();\r\n                        return [4 /*yield*/, this.authHandler.refreshDrawingAreas()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [4 /*yield*/, router.navigateTo('#/')];\r\n                    case 3:\r\n                        _b.sent();\r\n                        _b.label = 4;\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt die dynamischen Buttons für die DrawingArea, abhängig von den Rechten des Users.\r\n     * @param ws - WebSocket-Instanz\r\n     */\r\n    DrawingArea.prototype.createDynamicButtons = function (ws) {\r\n        var _this = this;\r\n        var dynamicSubWrapper = document.getElementById('dynamic-sub-wrapper');\r\n        if (dynamicSubWrapper &&\r\n            (this.permission === 'O' ||\r\n                this.permission === 'CO' ||\r\n                this.permission === 'M')) {\r\n            /**\r\n             * Button zum Einladen eines Users auf die DrawingArea.\r\n             * Achtung: Die User-ID muss manuell eingegeben und in Erfahrung gebracht werden.\r\n             */\r\n            var inviteButton = document.createElement('button');\r\n            inviteButton.classList.add('custom-button');\r\n            inviteButton.innerText = 'User Einladen';\r\n            inviteButton.id = 'invite';\r\n            inviteButton.addEventListener('click', function () {\r\n                _this.createInviteModal();\r\n            });\r\n            dynamicSubWrapper.appendChild(inviteButton);\r\n            /**\r\n             * Button zum Entfernen eines Users von der DrawingArea.\r\n             */\r\n            var removeUserButton = document.createElement('button');\r\n            removeUserButton.classList.add('custom-button');\r\n            removeUserButton.innerText = 'User Entfernen';\r\n            removeUserButton.id = 'removeUser';\r\n            removeUserButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.createRemoveUserModal()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n            dynamicSubWrapper.appendChild(removeUserButton);\r\n            /**\r\n             * Button zum Setzten des Zustands der Zeichenfläche auf moderiert oder normal.\r\n             */\r\n            var moderateButton = document.createElement('button');\r\n            moderateButton.classList.add('custom-button');\r\n            moderateButton.innerText = 'Toggle Moderieren';\r\n            moderateButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.moderateHandler(ws)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n            dynamicSubWrapper.appendChild(moderateButton);\r\n        }\r\n    };\r\n    /**\r\n     * Handler für das Setzen des Zustands der Zeichenfläche auf moderiert oder normal.\r\n     * @param ws - WebSocket-Instanz\r\n     */\r\n    DrawingArea.prototype.moderateHandler = function (ws) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var moderateEvent;\r\n            return __generator(this, function (_a) {\r\n                moderateEvent = {\r\n                    type: 'moderate',\r\n                    moderated: !this.moderatedState,\r\n                };\r\n                ws.send(JSON.stringify(moderateEvent));\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Erstellt das Modal zum Einladen eines Users auf die DrawingArea.\r\n     */\r\n    DrawingArea.prototype.createInviteModal = function () {\r\n        var _this = this;\r\n        var modal = document.createElement('div');\r\n        modal.classList.add('modal');\r\n        modal.style.display = 'block';\r\n        var modalContent = document.createElement('div');\r\n        modalContent.classList.add('modal-content');\r\n        var closeButton = document.createElement('span');\r\n        closeButton.classList.add('close');\r\n        closeButton.innerHTML = '&times;';\r\n        closeButton.addEventListener('click', function () {\r\n            document.body.removeChild(modal);\r\n        });\r\n        var inputLabel = document.createElement('label');\r\n        inputLabel.textContent = 'User-ID: ';\r\n        inputLabel.htmlFor = 'userId-input';\r\n        var inputField = document.createElement('input');\r\n        inputField.type = 'text';\r\n        inputField.placeholder = 'Enter text here...';\r\n        inputField.id = 'userId-input';\r\n        inputField.style.width = '200px';\r\n        var radioOptions = document.createElement('div');\r\n        /**\r\n         * Je nach Recht des Users werden die Rechte, die der eingeladene User auf der DrawingArea haben kann, angezeigt.\r\n         */\r\n        var permissionKeys = ['V', 'W', 'R'];\r\n        if (this.permission === 'O') {\r\n            permissionKeys.unshift('CO', 'M');\r\n        }\r\n        if (this.permission === 'CO') {\r\n            permissionKeys.unshift('M');\r\n        }\r\n        permissionKeys.forEach(function (key) {\r\n            var label = document.createElement('label');\r\n            var radio = document.createElement('input');\r\n            radio.type = 'radio';\r\n            radio.name = 'permission';\r\n            radio.value = key;\r\n            label.appendChild(radio);\r\n            label.appendChild(document.createTextNode(drawingAreaPermissions[key]));\r\n            radioOptions.appendChild(label);\r\n            radioOptions.appendChild(document.createElement('br'));\r\n        });\r\n        var submitButton = document.createElement('button');\r\n        submitButton.textContent = 'Einladen';\r\n        submitButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var userIdToAdd, permission, _a, success, message, error_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        userIdToAdd = document.getElementById('userId-input').value;\r\n                        permission = document.querySelector('input[name=\"permission\"]:checked').value;\r\n                        if (!userIdToAdd || !permission) {\r\n                            showCustomMessageModal('Fehler', 'Bitte füllen Sie alle Felder aus!');\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [4 /*yield*/, addUserToDrawingArea(this.drawingAreaId, permission, userIdToAdd)];\r\n                    case 1:\r\n                        _a = _b.sent(), success = _a.success, message = _a.message;\r\n                        showCustomMessageModal('Status', message);\r\n                        if (success) {\r\n                            document.body.removeChild(modal);\r\n                        }\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        error_1 = _b.sent();\r\n                        showCustomMessageModal('Fehler', 'Bitte füllen Sie alle Felder aus!');\r\n                        return [2 /*return*/];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n        modalContent.appendChild(closeButton);\r\n        modalContent.appendChild(inputLabel);\r\n        modalContent.appendChild(inputField);\r\n        modalContent.appendChild(radioOptions);\r\n        modalContent.appendChild(submitButton);\r\n        modal.appendChild(modalContent);\r\n        document.body.appendChild(modal);\r\n    };\r\n    /**\r\n     * Erstellt das Modal zum Entfernen eines Users von der DrawingArea.\r\n     */\r\n    DrawingArea.prototype.createRemoveUserModal = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var deleteModal, modalContent, closeButton, usersForDrawingArea, table, thead, tr, th1, th2, th3, tbody_1, noDataInfo;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        deleteModal = document.createElement('div');\r\n                        deleteModal.classList.add('modal');\r\n                        deleteModal.style.display = 'block';\r\n                        modalContent = document.createElement('div');\r\n                        modalContent.classList.add('modal-content');\r\n                        closeButton = document.createElement('span');\r\n                        closeButton.classList.add('close');\r\n                        closeButton.innerHTML = '&times;';\r\n                        closeButton.addEventListener('click', function () {\r\n                            document.body.removeChild(deleteModal);\r\n                        });\r\n                        return [4 /*yield*/, getUsersForDrawingArea(this.drawingAreaId)];\r\n                    case 1:\r\n                        usersForDrawingArea = _a.sent();\r\n                        if (usersForDrawingArea.users && usersForDrawingArea.users.length > 0) {\r\n                            table = document.createElement('table');\r\n                            thead = document.createElement('thead');\r\n                            tr = document.createElement('tr');\r\n                            th1 = document.createElement('th');\r\n                            th1.textContent = 'User-ID';\r\n                            th2 = document.createElement('th');\r\n                            th2.textContent = 'Recht';\r\n                            th3 = document.createElement('th');\r\n                            th3.textContent = 'Aktion';\r\n                            tr.appendChild(th1);\r\n                            tr.appendChild(th2);\r\n                            tr.appendChild(th3);\r\n                            thead.appendChild(tr);\r\n                            table.appendChild(thead);\r\n                            tbody_1 = document.createElement('tbody');\r\n                            usersForDrawingArea.users.forEach(function (user) {\r\n                                var tr = document.createElement('tr');\r\n                                var td1 = document.createElement('td');\r\n                                td1.textContent = user.userId;\r\n                                var td2 = document.createElement('td');\r\n                                td2.textContent = drawingAreaPermissions[user.permission];\r\n                                var td3 = document.createElement('td');\r\n                                var button = document.createElement('button');\r\n                                button.textContent = 'Remove';\r\n                                button.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                    var _a, success, message;\r\n                                    return __generator(this, function (_b) {\r\n                                        switch (_b.label) {\r\n                                            case 0: return [4 /*yield*/, removeUserFromDrawingArea(this.drawingAreaId, user.userId)];\r\n                                            case 1:\r\n                                                _a = _b.sent(), success = _a.success, message = _a.message;\r\n                                                showCustomMessageModal('Status', message);\r\n                                                if (success) {\r\n                                                    document.body.removeChild(deleteModal);\r\n                                                }\r\n                                                return [2 /*return*/];\r\n                                        }\r\n                                    });\r\n                                }); });\r\n                                td3.appendChild(button);\r\n                                tr.appendChild(td1);\r\n                                tr.appendChild(td2);\r\n                                tr.appendChild(td3);\r\n                                tbody_1.appendChild(tr);\r\n                            });\r\n                            table.style.borderSpacing = '10px';\r\n                            table.appendChild(tbody_1);\r\n                            modalContent.appendChild(closeButton);\r\n                            modalContent.appendChild(table);\r\n                            deleteModal.appendChild(modalContent);\r\n                        }\r\n                        else {\r\n                            noDataInfo = document.createElement('p');\r\n                            noDataInfo.textContent = 'Keine User gefunden';\r\n                            modalContent.appendChild(closeButton);\r\n                            modalContent.appendChild(noDataInfo);\r\n                            deleteModal.appendChild(modalContent);\r\n                        }\r\n                        document.body.appendChild(deleteModal);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return DrawingArea;\r\n}());\r\nexport { DrawingArea };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { DrawingAreaPreviewElementsStore } from '../store/DrawingAreaPreviewElementsStore';\r\nimport { showCustomMessageModal } from '../utils/functions/showCustomMessageModal';\r\n/**\r\n * Klasse für die Home-Seite.\r\n */\r\nvar HomePage = /** @class */ (function () {\r\n    function HomePage() {\r\n    }\r\n    /**\r\n     * Rendert die Home-Seite.\r\n     */\r\n    HomePage.render = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, \"\\n             <main class=\\\"container-home\\\">\\n                <section class=\\\"container-header\\\">\\n                    <img src=\\\"../assets/tha_logo.svg\\\" alt=\\\"Logo\\\" />\\n                     <div class=\\\"sub-container-header-text\\\">\\n                        <h2>Willkommen bei meinem Multiuser-Zeichenprogramm!</h2>\\n                        <h4>von Michael Mertl im SoSe2024</h4>\\n                     </div>\\n                     <button id=\\\"logout-button\\\" class=\\\"custom-button\\\">Logout</button>\\n                </section>\\n                \\n                <section class=\\\"container-main\\\">\\n                    <h2>Profileinstellungen</h2>\\n                    <section class=\\\"container-profile-settings\\\">\\n                        <div class=\\\"sub-container-profile-settings\\\">\\n                            <label for=\\\"userId\\\">User ID:</label>\\n                            <span id=\\\"userId\\\"></span>\\n                        </div>\\n                        <div class=\\\"sub-container-profile-settings\\\">\\n                            <label for=\\\"username\\\">Aktueller Benutzername: </label>\\n                            <span id=\\\"username\\\"></span>\\n                            <form class=\\\"sub-container-profile-settings\\\" id=\\\"username-form\\\">\\n                                <label for=\\\"new-username\\\">Neuer Benutzername: </label>\\n                                <input type=\\\"text\\\" id=\\\"new-username\\\" name=\\\"new-username\\\" required>\\n                                <button type=\\\"submit\\\" class=\\\"custom-button\\\">Benutzername speichern</button>\\n                            </form>      \\n                        </div>\\n                        <div class=\\\"sub-container-profile-settings\\\">\\n                            <label for=\\\"email\\\">Aktuelle E-Mail: </label>\\n                            <span id=\\\"email\\\"></span>\\n                            <form class=\\\"sub-container-profile-settings\\\" id=\\\"email-form\\\">\\n                                <label for=\\\"new-email\\\">Neue E-Mail: </label>\\n                                <input type=\\\"text\\\" id=\\\"new-email\\\" name=\\\"new-email\\\" required>\\n                                <button type=\\\"submit\\\" class=\\\"custom-button\\\">E-Mail speichern</button>\\n                            </form>      \\n                        </div>                        \\n                        <form class=\\\"sub-container-profile-settings\\\" id=\\\"password-form\\\">\\n                            <label for=\\\"old-password\\\">Altes Passwort:</label>\\n                            <input type=\\\"password\\\" id=\\\"old-password\\\" name=\\\"old-password\\\" required>\\n                            <label for=\\\"new-password\\\">Neues Passwort:</label>\\n                            <input type=\\\"password\\\" id=\\\"new-password\\\" name=\\\"new-password\\\" required>\\n                            <label for=\\\"confirm-new-password\\\">Neues Passwort best\\u00E4tigen:</label>\\n                            <input type=\\\"password\\\" id=\\\"confirm-new-password\\\" name=\\\"confirm-new-password\\\" required>\\n                            <button type=\\\"submit\\\" class=\\\"custom-button\\\">Passwort speichern</button>\\n                        </form>      \\n                    </section>\\n                </section>      \\n                \\n                <section class=\\\"container-main\\\">\\n                    <h2>Zeichenfl\\u00E4chen</h2>\\n                    <div class=\\\"sub-container-main\\\">\\n                      <button class=\\\"custom-button\\\" id=\\\"add-drawing-area-button\\\">Neue Zeichenfl\\u00E4che erstellen</button>\\n                      <button class=\\\"custom-button\\\" id=\\\"refresh-drawing-area-button\\\">Zeichen-fl\\u00E4chen neu Laden</button>\\n                    </div>\\n                    <section class=\\\"container-preview-drawing-area\\\" id=\\\"preview-drawing-area\\\"> \\n                    </section>\\n                </section>           \\n            </main>\\n        \"];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Initialisiert die Home-Seite.\r\n     * @param router - Router-Instanz.\r\n     * @param authHandler - AuthHandler-Instanz.\r\n     */\r\n    HomePage.initialize = function (router, authHandler) {\r\n        var _this = this;\r\n        /**\r\n         * Setzt die Benutzerinformationen in die entsprechenden Elemente.\r\n         */\r\n        var userIdElement = document.getElementById('userId');\r\n        if (userIdElement) {\r\n            userIdElement.innerText = authHandler.getUserId();\r\n        }\r\n        var usernameElement = document.getElementById('username');\r\n        if (usernameElement) {\r\n            usernameElement.innerText = authHandler.getUsername();\r\n        }\r\n        var emailElement = document.getElementById('email');\r\n        if (emailElement) {\r\n            emailElement.innerText = authHandler.getEMail();\r\n        }\r\n        /**\r\n         * Event-Listener für die Profileinstellungen.\r\n         */\r\n        var logoutButton = document.getElementById('logout-button');\r\n        if (logoutButton) {\r\n            logoutButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, authHandler.logout()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, router.navigateTo('#/login')];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        /**\r\n         * Event-Listener für die Änderung des Benutzernamens.\r\n         */\r\n        var usernameForm = document.getElementById('username-form');\r\n        if (usernameForm) {\r\n            usernameForm.addEventListener('submit', function (event) { return __awaiter(_this, void 0, void 0, function () {\r\n                var newUsername, _a, success, message, newUsernameInput;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            event.preventDefault();\r\n                            newUsername = document.getElementById('new-username').value;\r\n                            return [4 /*yield*/, authHandler.updateUsername(newUsername)];\r\n                        case 1:\r\n                            _a = _b.sent(), success = _a.success, message = _a.message;\r\n                            showCustomMessageModal('Status', message);\r\n                            if (success && usernameElement) {\r\n                                usernameElement.innerText = newUsername;\r\n                                newUsernameInput = document.getElementById('new-username');\r\n                                newUsernameInput.value = '';\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        /**\r\n         * Event-Listener für die Änderung der E-Mail-Adresse.\r\n         */\r\n        var emailForm = document.getElementById('email-form');\r\n        if (emailForm) {\r\n            emailForm.addEventListener('submit', function (event) { return __awaiter(_this, void 0, void 0, function () {\r\n                var newEmail, _a, success, message, newEmailInput;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            event.preventDefault();\r\n                            newEmail = document.getElementById('new-email').value;\r\n                            return [4 /*yield*/, authHandler.updateEmail(newEmail)];\r\n                        case 1:\r\n                            _a = _b.sent(), success = _a.success, message = _a.message;\r\n                            showCustomMessageModal('Status', message);\r\n                            if (success && emailElement) {\r\n                                emailElement.innerText = newEmail;\r\n                                newEmailInput = document.getElementById('new-email');\r\n                                newEmailInput.value = '';\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        /**\r\n         * Event-Listener für die Änderung des Passworts.\r\n         */\r\n        var passwordForm = document.getElementById('password-form');\r\n        if (passwordForm) {\r\n            passwordForm.addEventListener('submit', function (event) { return __awaiter(_this, void 0, void 0, function () {\r\n                var oldPassword, newPassword, confirmNewPassword, _a, success, message, oldPasswordInput, newPasswordInput, confirmNewPasswordInput;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            event.preventDefault();\r\n                            oldPassword = document.getElementById('old-password').value;\r\n                            newPassword = document.getElementById('new-password').value;\r\n                            confirmNewPassword = document.getElementById('confirm-new-password').value;\r\n                            if (newPassword !== confirmNewPassword) {\r\n                                showCustomMessageModal('Fehler', 'Die neuen Passwörter stimmen nicht überein!');\r\n                                return [2 /*return*/];\r\n                            }\r\n                            return [4 /*yield*/, authHandler.updatePassword(oldPassword, newPassword)];\r\n                        case 1:\r\n                            _a = _b.sent(), success = _a.success, message = _a.message;\r\n                            showCustomMessageModal('Status', message);\r\n                            if (success) {\r\n                                oldPasswordInput = document.getElementById('old-password');\r\n                                newPasswordInput = document.getElementById('new-password');\r\n                                confirmNewPasswordInput = document.getElementById('confirm-new-password');\r\n                                oldPasswordInput.value = '';\r\n                                newPasswordInput.value = '';\r\n                                confirmNewPasswordInput.value = '';\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        var parentElement = document.getElementById('preview-drawing-area');\r\n        if (!parentElement) {\r\n            return;\r\n        }\r\n        /**\r\n         * Erstellt die Vorschau-Zeichenflächen-Elemente auf der Home-Seite.\r\n         */\r\n        var drawingAreaPreviewElementsStore = DrawingAreaPreviewElementsStore.getInstance();\r\n        drawingAreaPreviewElementsStore\r\n            .getDrawingAreaPreviewElements()\r\n            .forEach(function (dap) {\r\n            dap.initialize(router, authHandler, parentElement, drawingAreaPreviewElementsStore);\r\n        });\r\n        /**\r\n         * Event-Listener für das Hinzufügen einer neuen Zeichenfläche.\r\n         */\r\n        var addDrawingAreaButton = document.getElementById('add-drawing-area-button');\r\n        if (addDrawingAreaButton) {\r\n            addDrawingAreaButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var drawingAreaPreview, e_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            return [4 /*yield*/, drawingAreaPreviewElementsStore.addDrawingAreaPreviewElements()];\r\n                        case 1:\r\n                            drawingAreaPreview = _a.sent();\r\n                            drawingAreaPreview.initialize(router, authHandler, parentElement, drawingAreaPreviewElementsStore);\r\n                            return [3 /*break*/, 3];\r\n                        case 2:\r\n                            e_1 = _a.sent();\r\n                            showCustomMessageModal('Fehler', \"\".concat(e_1));\r\n                            return [3 /*break*/, 3];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        /**\r\n         * Event-Listener für das Aktualisieren der Vorschau-Zeichenflächen-Elemente.\r\n         * Nötig, da man so jederzeit die Vorschau-Zeichenflächen-Elemente aktualisieren kann.\r\n         * Es kann nämlich jederzeit vorkommen, dass man zu einer neuen Zeichenfläche hinzugefügt oder von einer entfernt wird.\r\n         */\r\n        var refreshDrawingAreaButton = document.getElementById('refresh-drawing-area-button');\r\n        if (refreshDrawingAreaButton) {\r\n            refreshDrawingAreaButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var _a, success, message, e_2;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            _b.trys.push([0, 2, , 3]);\r\n                            return [4 /*yield*/, authHandler.refreshDrawingAreas()];\r\n                        case 1:\r\n                            _a = _b.sent(), success = _a.success, message = _a.message;\r\n                            if (success) {\r\n                                parentElement.innerHTML = '';\r\n                                drawingAreaPreviewElementsStore\r\n                                    .getDrawingAreaPreviewElements()\r\n                                    .forEach(function (dap) {\r\n                                    dap.initialize(router, authHandler, parentElement, drawingAreaPreviewElementsStore);\r\n                                });\r\n                            }\r\n                            showCustomMessageModal('Status', message);\r\n                            return [3 /*break*/, 3];\r\n                        case 2:\r\n                            e_2 = _b.sent();\r\n                            showCustomMessageModal('Fehler', \"\".concat(e_2));\r\n                            return [3 /*break*/, 3];\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    return HomePage;\r\n}());\r\nexport { HomePage };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { showCustomMessageModal } from '../utils/functions/showCustomMessageModal';\r\n/**\r\n * Klasse für die Login-Seite.\r\n */\r\nvar LoginPage = /** @class */ (function () {\r\n    function LoginPage() {\r\n    }\r\n    /**\r\n     * Rendert die Login-Seite.\r\n     */\r\n    LoginPage.render = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, \"\\n            <main class=\\\"container\\\">\\n                <section class=\\\"container-header\\\">\\n                    <img src=\\\"../assets/tha_logo.svg\\\" alt=\\\"Logo\\\" />\\n                     <div class=\\\"sub-container-header-text\\\">\\n                        <h2>Willkommen bei meinem Multiuser-Zeichenprogramm!</h2>\\n                        <h4>von Michael Mertl im SoSe2024</h4>\\n                     </div>\\n                </section>\\n                \\n                <section class=\\\"container-main\\\">\\n                    <h2>Login</h2>\\n                    <form id=\\\"login-form\\\" class=\\\"sub-container-main-form\\\">\\n                        <label for=\\\"username\\\">Benutzername:</label>\\n                        <input type=\\\"text\\\" id=\\\"username\\\" name=\\\"username\\\" required>\\n                        <label for=\\\"email\\\">E-Mail:</label>\\n                        <input type=\\\"text\\\" id=\\\"email\\\" name=\\\"email\\\" required>\\n                        <label for=\\\"password\\\">Passwort:</label>\\n                        <input type=\\\"password\\\" id=\\\"password\\\" name=\\\"password\\\" required>\\n                        <button type=\\\"submit\\\" class=\\\"custom-button\\\">Login</button>\\n                    </form>\\n                </section>\\n                \\n                <section class=\\\"container-footer\\\">\\n                    <p>Noch keinen Account? \\n                        <span id=\\\"register-button\\\" class=\\\"container-footer-text-button\\\">Hier Registrieren</span>\\n                    </p>\\n                </section>\\n            </main>\\n        \"];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Initialisiert die Login-Seite.\r\n     * @param router - Router-Instanz\r\n     * @param authHandler - AuthHandler-Instanz\r\n     */\r\n    LoginPage.initialize = function (router, authHandler) {\r\n        var _this = this;\r\n        /**\r\n         * Event-Listener für das Login-Formular\r\n         */\r\n        var loginForm = document.getElementById('login-form');\r\n        if (loginForm) {\r\n            loginForm.addEventListener('submit', function (event) { return __awaiter(_this, void 0, void 0, function () {\r\n                var username, email, password, _a, success, message;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            event.preventDefault();\r\n                            username = document.getElementById('username').value;\r\n                            email = document.getElementById('email')\r\n                                .value;\r\n                            password = document.getElementById('password').value;\r\n                            return [4 /*yield*/, authHandler.login(username, email, password)];\r\n                        case 1:\r\n                            _a = _b.sent(), success = _a.success, message = _a.message;\r\n                            showCustomMessageModal('Status', message);\r\n                            if (!success) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, router.navigateTo('#/')];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        /**\r\n         * Event-Listener für den Registrieren-Button, der den Benutzer zur Registrierungsseite weiterleitet.\r\n         */\r\n        var registerButton = document.getElementById('register-button');\r\n        if (registerButton) {\r\n            registerButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, router.navigateTo('#/register')];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    return LoginPage;\r\n}());\r\nexport { LoginPage };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n/**\r\n * Klasse für die 404-Seite.\r\n */\r\nvar NotFoundPage = /** @class */ (function () {\r\n    function NotFoundPage() {\r\n    }\r\n    /**\r\n     * Rendert die 404-Seite.\r\n     */\r\n    NotFoundPage.render = function () {\r\n        return \"\\n             <main class=\\\"container\\\">\\n                <section class=\\\"container-header\\\">\\n                    <img src=\\\"../assets/tha_logo.svg\\\" alt=\\\"Logo\\\" />\\n                     <div class=\\\"sub-container-header-text\\\">\\n                        <h2>Willkommen bei meinem Multiuser-Zeichenprogramm!</h2>\\n                        <h4>von Michael Mertl im SoSe2024</h4>\\n                     </div>\\n                </section>\\n                \\n                <section class=\\\"container-main\\\">\\n                    <h2>Error 404</h2>\\n                    <p>Die Seite, die Sie suchen, existiert nicht.</p>\\n                </section>\\n                \\n                <section class=\\\"container-footer\\\">\\n                    <p>Hier geht es zur\\u00FCck zur\\n                        <span id=\\\"back-to-home\\\" class=\\\"container-footer-text-button\\\">Startseite</span>\\n                    </p>\\n                </section>\\n            </main>\\n        \";\r\n    };\r\n    /**\r\n     * Initialisiert die 404-Seite.\r\n     * @param router - Router-Instanz\r\n     * @param authHandler - AuthHandler-Instanz\r\n     */\r\n    NotFoundPage.initialize = function (router, authHandler) {\r\n        var _this = this;\r\n        /**\r\n         * Event-Listener für den \"Zurück zur Startseite\"-Button.\r\n         */\r\n        var backToHome = document.getElementById('back-to-home');\r\n        if (backToHome) {\r\n            backToHome.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!authHandler.isLoggedIn()) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, router.navigateTo('#/')];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [3 /*break*/, 4];\r\n                        case 2: return [4 /*yield*/, router.navigateTo('#/login')];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    return NotFoundPage;\r\n}());\r\nexport { NotFoundPage };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { showCustomMessageModal } from '../utils/functions/showCustomMessageModal';\r\n/**\r\n * Klasse für die Registrierungs-Seite.\r\n */\r\nvar RegisterPage = /** @class */ (function () {\r\n    function RegisterPage() {\r\n    }\r\n    /**\r\n     * Rendert die Registrierungs-Seite.\r\n     */\r\n    RegisterPage.render = function () {\r\n        return \"\\n            <main class=\\\"container\\\">\\n                <section class=\\\"container-header\\\">\\n                    <img src=\\\"../assets/tha_logo.svg\\\" alt=\\\"Logo\\\" />\\n                     <div class=\\\"sub-container-header-text\\\">\\n                        <h2>Willkommen bei meinem Multiuser-Zeichenprogramm!</h2>\\n                        <h4>von Michael Mertl im SoSe2024</h4>\\n                     </div>\\n                </section>\\n                \\n                <section class=\\\"container-main\\\">\\n                    <h2>Registrieren</h2>\\n                    <form id=\\\"register-form\\\" class=\\\"sub-container-main-form\\\">\\n                         <label for=\\\"username\\\">Benutzername:</label>\\n                        <input type=\\\"text\\\" id=\\\"username\\\" name=\\\"username\\\" required>\\n                        <label for=\\\"email\\\">E-Mail:</label>\\n                        <input type=\\\"text\\\" id=\\\"email\\\" name=\\\"email\\\" required>\\n                        <label for=\\\"password\\\">Passwort:</label>\\n                        <input type=\\\"password\\\" id=\\\"password\\\" name=\\\"password\\\" required>\\n                        <label for=\\\"password-confirm\\\">Passwort best\\u00E4tigen:</label>\\n                        <input type=\\\"password\\\" id=\\\"password-confirm\\\" name=\\\"password-confirm\\\" required>\\n                        <button type=\\\"submit\\\" class=\\\"custom-button\\\">Registrieren</button>\\n                    </form>\\n                </section>\\n                \\n                <section class=\\\"container-footer\\\">\\n                    <p>Bereits einen Account?\\n                        <span id=\\\"login-button\\\" class=\\\"container-footer-text-button\\\">Hier Einloggen</span>\\n                    </p>\\n                </section>\\n            </main>\\n        \";\r\n    };\r\n    /**\r\n     * Initialisiert die Registrierungs-Seite.\r\n     * @param router - Router-Instanz\r\n     * @param authHandler - AuthHandler-Instanz\r\n     */\r\n    RegisterPage.initialize = function (router, authHandler) {\r\n        var _this = this;\r\n        /**\r\n         * Event-Listener für das Registrierungs-Formular.\r\n         */\r\n        var registerForm = document.getElementById('register-form');\r\n        if (registerForm) {\r\n            registerForm.addEventListener('submit', function (event) { return __awaiter(_this, void 0, void 0, function () {\r\n                var username, email, password, passwordConfirm, _a, success, message;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            event.preventDefault();\r\n                            username = document.getElementById('username').value;\r\n                            email = document.getElementById('email')\r\n                                .value;\r\n                            password = document.getElementById('password').value;\r\n                            passwordConfirm = document.getElementById('password-confirm').value;\r\n                            if (password !== passwordConfirm) {\r\n                                showCustomMessageModal('Fehler', 'Passwörter stimmen nicht überein.');\r\n                                return [2 /*return*/];\r\n                            }\r\n                            return [4 /*yield*/, authHandler.register(username, email, password)];\r\n                        case 1:\r\n                            _a = _b.sent(), success = _a.success, message = _a.message;\r\n                            showCustomMessageModal('Status', message);\r\n                            if (!success) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, router.navigateTo('#/login')];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        /**\r\n         * Event-Listener für den \"Hier Einloggen\"-Button, der den Benutzer zur Login-Seite weiterleitet.\r\n         */\r\n        var loginButton = document.getElementById('login-button');\r\n        if (loginButton) {\r\n            loginButton.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, router.navigateTo('#/login')];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    return RegisterPage;\r\n}());\r\nexport { RegisterPage };\r\n","var randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;","import REGEX from './regex.js';\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Router } from './router/router';\r\nimport { AuthHandler } from './utils/classes/AuthHandler';\r\n/**\r\n * Initialisiert die App und den Router, nachdem der DOM geladen wurde.\r\n */\r\ndocument.addEventListener('DOMContentLoaded', function (e) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var app, authHandler, router;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                e.stopImmediatePropagation();\r\n                app = document.getElementById('app');\r\n                if (!app) return [3 /*break*/, 3];\r\n                authHandler = new AuthHandler();\r\n                return [4 /*yield*/, authHandler.init()];\r\n            case 1:\r\n                _a.sent();\r\n                router = new Router(app, authHandler);\r\n                return [4 /*yield*/, router.init()];\r\n            case 2:\r\n                _a.sent();\r\n                _a.label = 3;\r\n            case 3: return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\n"],"names":[],"sourceRoot":""}